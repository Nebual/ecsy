!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,function(){var n=e.ECSY,o=e.ECSY={};t(o),o.noConflict=function(){return e.ECSY=n,o}}())}(this,(function(exports){"use strict";class SystemManager{constructor(e){this._systems=[],this._executeSystems=[],this.world=e,this.lastExecutedSystem=null}registerSystem(e,t){if(void 0!==this._systems.find(t=>t.constructor.name===e.name))return console.warn(`System '${e.name}' already registered.`),this;var n=new e(this.world,t);return n.init&&n.init(),n.order=this._systems.length,this._systems.push(n),n.execute&&this._executeSystems.push(n),this.sortSystems(),this}sortSystems(){this._executeSystems.sort((e,t)=>e.priority-t.priority||e.order-t.order)}getSystem(e){return this._systems.find(t=>t instanceof e)}getSystems(){return this._systems}removeSystem(e){var t=this._systems.indexOf(e);~t&&this._systems.splice(t,1)}executeSystem(e,t,n){if(e.initialized){if(e.canExecute()){let o=performance.now();e.execute(t,n),e.executeTime=performance.now()-o}this.lastExecutedSystem=e,e.clearEvents()}}stop(){this._executeSystems.forEach(e=>e.stop())}execute(e,t,n){this._executeSystems.forEach(o=>(n||o.enabled)&&this.executeSystem(o,e,t))}stats(){for(var e={numSystems:this._systems.length,systems:{}},t=0;t<this._systems.length;t++){var n=this._systems[t],o=e.systems[n.constructor.name]={queries:{}};for(var s in n.ctx)o.queries[s]=n.ctx[s].stats()}return e}}class EventDispatcher{constructor(){this._listeners={},this.stats={fired:0,handled:0}}addEventListener(e,t){let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){return void 0!==this._listeners[e]&&-1!==this._listeners[e].indexOf(t)}removeEventListener(e,t){var n=this._listeners[e];if(void 0!==n){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}}dispatchEvent(e,t,n){this.stats.fired++;var o=this._listeners[e];if(void 0!==o)for(var s=o.slice(0),i=0;i<s.length;i++)s[i].call(this,t,n)}resetCounters(){this.stats.fired=this.stats.handled=0}}function getName(e){return e.name}function componentPropertyName(e){var t=getName(e);return t.charAt(0).toLowerCase()+t.slice(1)}function queryKey(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if("object"==typeof o){var s="not"===o.operator?"!":o.operator;t.push(s+getName(o.Component))}else t.push(getName(o))}return t.sort().join("-")}class Query{constructor(e,t){if(this.Components=[],this.NotComponents=[],e.forEach(e=>{"object"==typeof e?this.NotComponents.push(e.Component):this.Components.push(e)}),0===this.Components.length)throw new Error("Can't create a query without components");this.entities=[],this.eventDispatcher=new EventDispatcher,this.reactive=!1,this.key=queryKey(e);for(var n=0;n<t._entities.length;n++){var o=t._entities[n];this.match(o)&&(o.queries.push(this),this.entities.push(o))}}addEntity(e){e.queries.push(this),this.entities.push(e),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_ADDED,e)}removeEntity(e){let t=this.entities.indexOf(e);~t&&(this.entities.splice(t,1),t=e.queries.indexOf(this),e.queries.splice(t,1),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_REMOVED,e))}match(e){return e.hasAllComponents(this.Components)&&!e.hasAnyComponents(this.NotComponents)}toJSON(){return{key:this.key,reactive:this.reactive,components:{included:this.Components.map(e=>e.name),not:this.NotComponents.map(e=>e.name)},numEntities:this.entities.length}}stats(){return{numComponents:this.Components.length,numEntities:this.entities.length}}}Query.prototype.ENTITY_ADDED="Query#ENTITY_ADDED",Query.prototype.ENTITY_REMOVED="Query#ENTITY_REMOVED",Query.prototype.COMPONENT_CHANGED="Query#COMPONENT_CHANGED";var nextId=0;class Entity{constructor(e){this._world=e||null,this.id=nextId++,this._ComponentTypes=[],this._components={},this._componentsToRemove={},this.queries=[],this._ComponentTypesToRemove=[],this.alive=!1}getComponent(e,t){var n=this._components[e.name];return n||!0!==t||(n=this._componentsToRemove[e.name]),n}getRemovedComponent(e){return this._componentsToRemove[e.name]}getComponents(){return this._components}getComponentsToRemove(){return this._componentsToRemove}getComponentTypes(){return this._ComponentTypes}getMutableComponent(e){for(var t=this._components[e.name],n=0;n<this.queries.length;n++){var o=this.queries[n];o.reactive&&-1!==o.Components.indexOf(e)&&o.eventDispatcher.dispatchEvent(Query.prototype.COMPONENT_CHANGED,this,t)}return t}addComponent(e,t){return this._world.entityAddComponent(this,e,t),this}removeComponent(e,t){return this._world.entityRemoveComponent(this,e,t),this}hasComponent(e,t){return!!~this._ComponentTypes.indexOf(e)||!0===t&&this.hasRemovedComponent(e)}hasRemovedComponent(e){return!!~this._ComponentTypesToRemove.indexOf(e)}hasAllComponents(e){for(var t=0;t<e.length;t++)if(!this.hasComponent(e[t]))return!1;return!0}hasAnyComponents(e){for(var t=0;t<e.length;t++)if(this.hasComponent(e[t]))return!0;return!1}removeAllComponents(e){return this._world.entityRemoveAllComponents(this,e)}reset(){this.id=nextId++,this._world=null,this._ComponentTypes.length=0,this.queries.length=0,this._components={}}remove(e){return this._world.removeEntity(this,e)}}class ObjectPool{constructor(e,t){this.freeList=[],this.count=0,this.T=e,this.isObjectPool=!0;var n=null;arguments.length>1&&(n=Array.prototype.slice.call(arguments)).shift(),this.createElement=n?()=>new e(...n):()=>new e,void 0!==t&&this.expand(t)}aquire(){return this.freeList.length<=0&&this.expand(Math.round(.2*this.count)+1),this.freeList.pop()}release(e){e.reset(),this.freeList.push(e)}expand(e){for(var t=0;t<e;t++)this.freeList.push(this.createElement());this.count+=e}totalSize(){return this.count}totalFree(){return this.freeList.length}totalUsed(){return this.count-this.freeList.length}}class QueryManager{constructor(e){this._world=e,this._queries={}}onEntityRemoved(e){for(var t in this._queries){var n=this._queries[t];-1!==e.queries.indexOf(n)&&n.removeEntity(e)}}onEntityComponentAdded(e,t){for(var n in this._queries){var o=this._queries[n];~o.NotComponents.indexOf(t)&&~o.entities.indexOf(e)?o.removeEntity(e):~o.Components.indexOf(t)&&o.match(e)&&!~o.entities.indexOf(e)&&o.addEntity(e)}}onEntityComponentRemoved(e,t){for(var n in this._queries){var o=this._queries[n];~o.NotComponents.indexOf(t)&&!~o.entities.indexOf(e)&&o.match(e)?o.addEntity(e):~o.Components.indexOf(t)&&~o.entities.indexOf(e)&&!o.match(e)&&o.removeEntity(e)}}getQuery(e){var t=queryKey(e),n=this._queries[t];return n||(this._queries[t]=n=new Query(e,this._world)),n}stats(){var e={};for(var t in this._queries)e[t]=this._queries[t].stats();return e}}class SystemStateComponent{}SystemStateComponent.isSystemStateComponent=!0;class EntityManager{constructor(e){this.world=e,this.componentsManager=e.componentsManager,this._entities=[],this._queryManager=new QueryManager(this),this.eventDispatcher=new EventDispatcher,this._entityPool=new ObjectPool(Entity),this.entitiesWithComponentsToRemove=[],this.entitiesToRemove=[],this.deferredRemovalEnabled=!0,this.numStateComponents=0}createEntity(){var e=this._entityPool.aquire();return e.alive=!0,e._world=this,this._entities.push(e),this.eventDispatcher.dispatchEvent(ENTITY_CREATED,e),e}entityAddComponent(e,t,n){if(!~e._ComponentTypes.indexOf(t)){e._ComponentTypes.push(t),t.__proto__===SystemStateComponent&&this.numStateComponents++;var o=this.world.componentsManager.getComponentsPool(t).aquire();if(e._components[t.name]=o,n)if(o.copy)o.copy(n);else for(var s in n)o[s]=n[s];this._queryManager.onEntityComponentAdded(e,t),this.world.componentsManager.componentAddedToEntity(t),this.eventDispatcher.dispatchEvent(COMPONENT_ADDED,e,t)}}entityRemoveComponent(e,t,n){var o=e._ComponentTypes.indexOf(t);if(~o){if(this.eventDispatcher.dispatchEvent(COMPONENT_REMOVE,e,t),n)this._entityRemoveComponentSync(e,t,o);else{0===e._ComponentTypesToRemove.length&&this.entitiesWithComponentsToRemove.push(e),e._ComponentTypes.splice(o,1),e._ComponentTypesToRemove.push(t);var s=getName(t);e._componentsToRemove[s]=e._components[s],delete e._components[s]}this._queryManager.onEntityComponentRemoved(e,t),t.__proto__===SystemStateComponent&&(this.numStateComponents--,0!==this.numStateComponents||e.alive||e.remove())}}_entityRemoveComponentSync(e,t,n){e._ComponentTypes.splice(n,1);var o=componentPropertyName(t),s=getName(t),i=e._components[s];delete e._components[s],this.componentsManager._componentPool[o].release(i),this.world.componentsManager.componentRemovedFromEntity(t)}entityRemoveAllComponents(e,t){let n=e._ComponentTypes;for(let o=n.length-1;o>=0;o--)n[o].__proto__!==SystemStateComponent&&this.entityRemoveComponent(e,n[o],t)}removeEntity(e,t){var n=this._entities.indexOf(e);if(!~n)throw new Error("Tried to remove entity not in list");e.alive=!1,0===this.numStateComponents&&(this.eventDispatcher.dispatchEvent(ENTITY_REMOVED,e),this._queryManager.onEntityRemoved(e),!0===t?this._releaseEntity(e,n):this.entitiesToRemove.push(e)),this.entityRemoveAllComponents(e,t)}_releaseEntity(e,t){this._entities.splice(t,1),e._world=null,this._entityPool.release(e)}removeAllEntities(){for(var e=this._entities.length-1;e>=0;e--)this.removeEntity(this._entities[e])}processDeferredRemoval(){if(this.deferredRemovalEnabled){for(let e=0;e<this.entitiesToRemove.length;e++){let t=this.entitiesToRemove[e],n=this._entities.indexOf(t);this._releaseEntity(t,n)}this.entitiesToRemove.length=0;for(let o=0;o<this.entitiesWithComponentsToRemove.length;o++){let s=this.entitiesWithComponentsToRemove[o];for(;s._ComponentTypesToRemove.length>0;){let o=s._ComponentTypesToRemove.pop();var e=componentPropertyName(o),t=getName(o),n=s._componentsToRemove[t];delete s._componentsToRemove[t],this.componentsManager._componentPool[e].release(n),this.world.componentsManager.componentRemovedFromEntity(o)}}this.entitiesWithComponentsToRemove.length=0}}queryComponents(e){return this._queryManager.getQuery(e)}count(){return this._entities.length}stats(){var e={numEntities:this._entities.length,numQueries:Object.keys(this._queryManager._queries).length,queries:this._queryManager.stats(),numComponentPool:Object.keys(this.componentsManager._componentPool).length,componentPool:{},eventDispatcher:this.eventDispatcher.stats};for(var t in this.componentsManager._componentPool){var n=this.componentsManager._componentPool[t];e.componentPool[t]={used:n.totalUsed(),size:n.count}}return e}}const ENTITY_CREATED="EntityManager#ENTITY_CREATE",ENTITY_REMOVED="EntityManager#ENTITY_REMOVED",COMPONENT_ADDED="EntityManager#COMPONENT_ADDED",COMPONENT_REMOVE="EntityManager#COMPONENT_REMOVE";class DummyObjectPool{constructor(e){this.isDummyObjectPool=!0,this.count=0,this.used=0,this.T=e}aquire(){return this.used++,this.count++,new this.T}release(){this.used--}totalSize(){return this.count}totalFree(){return 1/0}totalUsed(){return this.used}}class ComponentManager{constructor(){this.Components={},this._componentPool={},this.numComponents={}}registerComponent(e){this.Components[e.name]?console.warn(`Component type: '${e.name}' already registered.`):(this.Components[e.name]=e,this.numComponents[e.name]=0)}componentAddedToEntity(e){this.Components[e.name]||this.registerComponent(e),this.numComponents[e.name]++}componentRemovedFromEntity(e){this.numComponents[e.name]--}getComponentsPool(e){var t=componentPropertyName(e);return this._componentPool[t]||(e.prototype.reset?this._componentPool[t]=new ObjectPool(e):(console.warn(`Component '${e.name}' won't benefit from pooling because 'reset' method was not implemeneted.`),this._componentPool[t]=new DummyObjectPool(e))),this._componentPool[t]}}var name="ecsy",version="0.1.4",description="Entity Component System in JS",main="build/ecsy.js",module="build/ecsy.module.js",types="src/index.d.ts",scripts={build:"rollup -c && npm run docs",docs:"rm docs/api/_sidebar.md; typedoc --readme none --mode file --excludeExternals --plugin typedoc-plugin-markdown  --theme docs/theme --hideSources --hideBreadcrumbs --out docs/api/ --includeDeclarations --includes 'src/**/*.d.ts' src; touch docs/api/_sidebar.md","dev:docs":"nodemon -e ts -x 'npm run docs' -w src",dev:"concurrently --names 'ROLLUP,DOCS,HTTP' -c 'bgBlue.bold,bgYellow.bold,bgGreen.bold' 'rollup -c -w -m inline' 'npm run dev:docs' 'npm run dev:server'","dev:server":"http-server -c-1 -p 8080 --cors",lint:"eslint src test examples",start:"npm run dev",test:"ava",travis:"npm run lint && npm run test && npm run build","watch:test":"ava --watch"},repository={type:"git",url:"git+https://github.com/fernandojsg/ecsy.git"},keywords=["ecs","entity component system"],author="Fernando Serrano <fernandojsg@gmail.com> (http://fernandojsg.com)",license="MIT",bugs={url:"https://github.com/fernandojsg/ecsy/issues"},ava={files:["test/**/*.test.js"],sources:["src/**/*.js"],require:["babel-register","esm"]},jspm={files:["package.json","LICENSE","README.md","build/ecsy.js","build/ecsy.min.js","build/ecsy.module.js"],directories:{}},homepage="https://github.com/fernandojsg/ecsy#readme",devDependencies={ava:"^1.4.1","babel-cli":"^6.26.0","babel-core":"^6.26.3","babel-eslint":"^10.0.3","babel-loader":"^8.0.6",concurrently:"^4.1.2","docsify-cli":"^4.3.0",eslint:"^5.16.0","eslint-config-prettier":"^4.3.0","eslint-plugin-prettier":"^3.1.1","http-server":"^0.11.1",nodemon:"^1.19.2",prettier:"^1.18.2",rollup:"^1.21.4","rollup-plugin-json":"^4.0.0","rollup-plugin-terser":"^5.1.2",typedoc:"^0.15.0","typedoc-plugin-markdown":"^2.2.6",typescript:"^3.6.3"},pjson={name:name,version:version,description:description,main:main,"jsnext:main":"build/ecsy.module.js",module:module,types:types,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,ava:ava,jspm:jspm,homepage:homepage,devDependencies:devDependencies};const Version=pjson.version;class World{constructor(){if(this.componentsManager=new ComponentManager(this),this.entityManager=new EntityManager(this),this.systemManager=new SystemManager(this),this.enabled=!0,this.eventQueues={},"undefined"!=typeof CustomEvent){var e=new CustomEvent("ecsy-world-created",{detail:{world:this,version:Version}});window.dispatchEvent(e)}this.lastTime=performance.now()}registerComponent(e){return this.componentsManager.registerComponent(e),this}registerSystem(e,t){return this.systemManager.registerSystem(e,t),this}getSystem(e){return this.systemManager.getSystem(e)}getSystems(){return this.systemManager.getSystems()}execute(e,t){if(!e){let t=performance.now();e=t-this.lastTime,this.lastTime=t}this.enabled&&(this.systemManager.execute(e,t),this.entityManager.processDeferredRemoval())}stop(){this.enabled=!1}play(){this.enabled=!0}createEntity(){return this.entityManager.createEntity()}stats(){var e={entities:this.entityManager.stats(),system:this.systemManager.stats()};console.log(JSON.stringify(e,null,2))}}class System{canExecute(){if(0===this._mandatoryQueries.length)return!0;for(let e=0;e<this._mandatoryQueries.length;e++){if(0===this._mandatoryQueries[e].entities.length)return!1}return!0}constructor(e,t){if(this.world=e,this.enabled=!0,this._queries={},this.queries={},this.priority=0,this.executeTime=0,t&&t.priority&&(this.priority=t.priority),this._mandatoryQueries=[],this.initialized=!0,this.constructor.queries)for(var n in this.constructor.queries){var o=this.constructor.queries[n],s=o.components;if(!s||0===s.length)throw new Error("'components' attribute can't be empty in a query");var i=this.world.entityManager.queryComponents(s);this._queries[n]=i,!0===o.mandatory&&this._mandatoryQueries.push(i),this.queries[n]={results:i.entities};const e={added:Query.prototype.ENTITY_ADDED,removed:Query.prototype.ENTITY_REMOVED,changed:Query.prototype.COMPONENT_CHANGED};o.listen&&["added","removed","changed"].forEach(t=>{if(o.listen[t]){let s=o.listen[t];if("changed"===t){if(i.reactive=!0,!0===s){let e=this.queries[n][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,t=>{-1===e.indexOf(t)&&e.push(t)})}else if(Array.isArray(s)){let e=this.queries[n][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,(t,n)=>{-1!==s.indexOf(n.constructor)&&-1===e.indexOf(t)&&e.push(t)})}}else{let o=this.queries[n][t]=[];i.eventDispatcher.addEventListener(e[t],e=>{-1===o.indexOf(e)&&o.push(e)})}}})}}stop(){this.executeTime=0,this.enabled=!1}play(){this.enabled=!0}clearEvents(){for(let t in this.queries){var e=this.queries[t];if(e.added&&(e.added.length=0),e.removed&&(e.removed.length=0),e.changed)if(Array.isArray(e.changed))e.changed.length=0;else for(let t in e.changed)e.changed[t].length=0}}toJSON(){var e={name:this.constructor.name,enabled:this.enabled,executeTime:this.executeTime,priority:this.priority,queries:{}};if(this.constructor.queries){var t=this.constructor.queries;for(let n in t){let o=this.queries[n],s=t[n],i=e.queries[n]={key:this._queries[n].key};if(i.mandatory=!0===s.mandatory,i.reactive=s.listen&&(!0===s.listen.added||!0===s.listen.removed||!0===s.listen.changed||Array.isArray(s.listen.changed)),i.reactive){i.listen={},["added","removed","changed"].forEach(e=>{o[e]&&(i.listen[e]={entities:o[e].length})})}}}return e}}function Not(e){return{operator:"not",Component:e}}class Component{}Component.isComponent=!0;class TagComponent{reset(){}}function createType(e){var t=["create","reset","clear"].filter(t=>!e[t]);if(t.length>0)throw new Error(`createType expect type definition to implements the following functions: ${t.join(", ")}`);return e.isType=!0,e}TagComponent.isTagComponent=!0;var Types={};Types.Number=createType({baseType:Number,isSimpleType:!0,create:e=>void 0!==e?e:0,reset:(e,t,n)=>{e[t]=void 0!==n?n:0},clear:(e,t)=>{e[t]=0}}),Types.Boolean=createType({baseType:Boolean,isSimpleType:!0,create:e=>void 0!==e&&e,reset:(e,t,n)=>{e[t]=void 0!==n&&n},clear:(e,t)=>{e[t]=!1}}),Types.String=createType({baseType:String,isSimpleType:!0,create:e=>void 0!==e?e:"",reset:(e,t,n)=>{e[t]=void 0!==n?n:""},clear:(e,t)=>{e[t]=""}}),Types.Array=createType({baseType:Array,create:e=>void 0!==e?e.slice():[],reset:(e,t,n)=>{void 0!==n?e[t]=n.slice():e[t].length=0},clear:(e,t)=>{e[t].length=0},copy:(e,t,n)=>{e[n]=t[n].slice()}});var standardTypes={number:Types.Number,boolean:Types.Boolean,string:Types.String};function inferType(e){return Array.isArray(e)?Types.Array:standardTypes[typeof e]?standardTypes[typeof e]:null}function createComponentClass(e,t){for(let t in e){e[t].type||(e[t].type=inferType(e[t].default))}var n=function(){for(let n in e){var t=e[n];let o=t.type;o&&o.isType?this[n]=o.create(t.default):this[n]=t.default}};void 0!==t&&Object.defineProperty(n,"name",{value:t}),n.prototype.schema=e;var o=!0;for(let t in e){var s=e[t];s.type||(s.type=inferType(s.default)),s.type||(console.warn(`Unknown type definition for attribute '${t}'`),o=!1)}if(o){n.prototype.copy=function(t){for(let n in e)if(t[n]){let o=e[n].type;o.isSimpleType?this[n]=t[n]:o.copy?o.copy(this,t,n):console.warn(`Unknown copy function for attribute '${n}' data type`)}},n.prototype.reset=function(){for(let t in e){let n=e[t],o=n.type;o.reset&&o.reset(this,t,n.default)}},n.prototype.clear=function(){for(let t in e){let n=e[t].type;n.clear&&n.clear(this,t)}};for(let t in e){let o=e[t],s=o.type;n.prototype[t]=o.default,s.reset&&s.reset(n.prototype,t,o.default)}}else for(var i in console.warn("This component can't use pooling because some data types are not registered. Please provide a type created with 'createType'"),e){let t=e[i];n.prototype[i]=t.default}return n}function generateId(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*o));return t.toUpperCase()}function enableRemoteDevtools(remoteId){window.generateNewCode=()=>{window.localStorage.clear(),remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId),window.location.reload(!1)},remoteId=remoteId||window.localStorage.getItem("ecsyRemoteId"),remoteId||(remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId));let infoDiv=document.createElement("div");infoDiv.style.cssText="\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 40px;\n    opacity: 0.9;\n    font-size: 1.1em;\n    color: #fff;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    font-family: Arial;\n    text-align: center;\n    background-color: #333",infoDiv.innerHTML=`Open ECSY devtools to connect to this page using the code:&nbsp;<b>${remoteId}</b>&nbsp;<button onClick="generateNewCode()">Generate new code</button>`,document.body.appendChild(infoDiv),window.__ECSY_REMOTE_DEVTOOLS_INJECTED=!0,window.__ECSY_REMOTE_DEVTOOLS={};let Version="",worldsBeforeLoading=[],onWorldCreated=e=>{var t=e.detail.world;Version=e.detail.version,worldsBeforeLoading.push(t)};window.addEventListener("ecsy-world-created",onWorldCreated);var script=document.createElement("script");script.src="https://cdn.jsdelivr.net/npm/peerjs@0.3.20/dist/peer.min.js",script.onload=()=>{var peer=new Peer(remoteId);peer.on("open",id=>{peer.on("connection",conn=>{window.__ECSY_REMOTE_DEVTOOLS.connection=conn,conn.on("open",(function(){infoDiv.style.visibility="hidden",conn.on("data",(function(data){if("init"===data.type){var script=document.createElement("script");script.textContent=data.script,script.onload=()=>{script.parentNode.removeChild(script)},window.removeEventListener("ecsy-world-created",onWorldCreated),setTimeout(()=>{worldsBeforeLoading.forEach(e=>{var t=new CustomEvent("ecsy-world-created",{detail:{world:e,version:Version}});window.dispatchEvent(t)})},1e3),(document.head||document.documentElement).appendChild(script);var wrapFunctions=["error","warning","log"];wrapFunctions.forEach(e=>{if("function"==typeof console[e]){var t=console[e].bind(console);console[e]=(...n)=>(conn.send({method:"console",type:e,args:JSON.stringify(n)}),t.apply(null,n))}}),window.addEventListener("error",e=>{conn.send({method:"error",error:JSON.stringify({message:e.error.message,stack:e.error.stack})})})}else if("executeScript"===data.type){let value=eval(data.script);data.returnEval&&conn.send({method:"evalReturn",value:value})}}))}))})})},(document.head||document.documentElement).appendChild(script)}const urlParams=new URLSearchParams(window.location.search);urlParams.has("enableRemoteDevtools")&&enableRemoteDevtools(),exports.Component=Component,exports.Not=Not,exports.System=System,exports.SystemStateComponent=SystemStateComponent,exports.TagComponent=TagComponent,exports.Types=Types,exports.Version=Version,exports.World=World,exports.createComponentClass=createComponentClass,exports.createType=createType,exports.enableRemoteDevtools=enableRemoteDevtools,Object.defineProperty(exports,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWNzeS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9TeXN0ZW1NYW5hZ2VyLmpzIiwiLi4vc3JjL0V2ZW50RGlzcGF0Y2hlci5qcyIsIi4uL3NyYy9VdGlscy5qcyIsIi4uL3NyYy9RdWVyeS5qcyIsIi4uL3NyYy9FbnRpdHkuanMiLCIuLi9zcmMvT2JqZWN0UG9vbC5qcyIsIi4uL3NyYy9RdWVyeU1hbmFnZXIuanMiLCIuLi9zcmMvU3lzdGVtU3RhdGVDb21wb25lbnQuanMiLCIuLi9zcmMvRW50aXR5TWFuYWdlci5qcyIsIi4uL3NyYy9EdW1teU9iamVjdFBvb2wuanMiLCIuLi9zcmMvQ29tcG9uZW50TWFuYWdlci5qcyIsIi4uL3NyYy9WZXJzaW9uLmpzIiwiLi4vc3JjL1dvcmxkLmpzIiwiLi4vc3JjL1N5c3RlbS5qcyIsIi4uL3NyYy9Db21wb25lbnQuanMiLCIuLi9zcmMvVGFnQ29tcG9uZW50LmpzIiwiLi4vc3JjL0NyZWF0ZVR5cGUuanMiLCIuLi9zcmMvU3RhbmRhcmRUeXBlcy5qcyIsIi4uL3NyYy9JbmZlclR5cGUuanMiLCIuLi9zcmMvQ3JlYXRlQ29tcG9uZW50Q2xhc3MuanMiLCIuLi9zcmMvUmVtb3RlRGV2VG9vbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFN5c3RlbU1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih3b3JsZCkge1xuICAgIHRoaXMuX3N5c3RlbXMgPSBbXTtcbiAgICB0aGlzLl9leGVjdXRlU3lzdGVtcyA9IFtdOyAvLyBTeXN0ZW1zIHRoYXQgaGF2ZSBgZXhlY3V0ZWAgbWV0aG9kXG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHRoaXMubGFzdEV4ZWN1dGVkU3lzdGVtID0gbnVsbDtcbiAgfVxuXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbSwgYXR0cmlidXRlcykge1xuICAgIGlmIChcbiAgICAgIHRoaXMuX3N5c3RlbXMuZmluZChzID0+IHMuY29uc3RydWN0b3IubmFtZSA9PT0gU3lzdGVtLm5hbWUpICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihgU3lzdGVtICcke1N5c3RlbS5uYW1lfScgYWxyZWFkeSByZWdpc3RlcmVkLmApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIHN5c3RlbSA9IG5ldyBTeXN0ZW0odGhpcy53b3JsZCwgYXR0cmlidXRlcyk7XG4gICAgaWYgKHN5c3RlbS5pbml0KSBzeXN0ZW0uaW5pdCgpO1xuICAgIHN5c3RlbS5vcmRlciA9IHRoaXMuX3N5c3RlbXMubGVuZ3RoO1xuICAgIHRoaXMuX3N5c3RlbXMucHVzaChzeXN0ZW0pO1xuICAgIGlmIChzeXN0ZW0uZXhlY3V0ZSkgdGhpcy5fZXhlY3V0ZVN5c3RlbXMucHVzaChzeXN0ZW0pO1xuICAgIHRoaXMuc29ydFN5c3RlbXMoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNvcnRTeXN0ZW1zKCkge1xuICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSB8fCBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFN5c3RlbShTeXN0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fc3lzdGVtcy5maW5kKHMgPT4gcyBpbnN0YW5jZW9mIFN5c3RlbSk7XG4gIH1cblxuICBnZXRTeXN0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLl9zeXN0ZW1zO1xuICB9XG5cbiAgcmVtb3ZlU3lzdGVtKFN5c3RlbSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX3N5c3RlbXMuaW5kZXhPZihTeXN0ZW0pO1xuICAgIGlmICghfmluZGV4KSByZXR1cm47XG5cbiAgICB0aGlzLl9zeXN0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gIH1cblxuICBleGVjdXRlU3lzdGVtKHN5c3RlbSwgZGVsdGEsIHRpbWUpIHtcbiAgICBpZiAoc3lzdGVtLmluaXRpYWxpemVkKSB7XG4gICAgICBpZiAoc3lzdGVtLmNhbkV4ZWN1dGUoKSkge1xuICAgICAgICBsZXQgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHN5c3RlbS5leGVjdXRlKGRlbHRhLCB0aW1lKTtcbiAgICAgICAgc3lzdGVtLmV4ZWN1dGVUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RFeGVjdXRlZFN5c3RlbSA9IHN5c3RlbTtcbiAgICAgIHN5c3RlbS5jbGVhckV2ZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5fZXhlY3V0ZVN5c3RlbXMuZm9yRWFjaChzeXN0ZW0gPT4gc3lzdGVtLnN0b3AoKSk7XG4gIH1cblxuICBleGVjdXRlKGRlbHRhLCB0aW1lLCBmb3JjZVBsYXkpIHtcbiAgICB0aGlzLl9leGVjdXRlU3lzdGVtcy5mb3JFYWNoKFxuICAgICAgc3lzdGVtID0+XG4gICAgICAgIChmb3JjZVBsYXkgfHwgc3lzdGVtLmVuYWJsZWQpICYmIHRoaXMuZXhlY3V0ZVN5c3RlbShzeXN0ZW0sIGRlbHRhLCB0aW1lKVxuICAgICk7XG4gIH1cblxuICBzdGF0cygpIHtcbiAgICB2YXIgc3RhdHMgPSB7XG4gICAgICBudW1TeXN0ZW1zOiB0aGlzLl9zeXN0ZW1zLmxlbmd0aCxcbiAgICAgIHN5c3RlbXM6IHt9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc3lzdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHN5c3RlbSA9IHRoaXMuX3N5c3RlbXNbaV07XG4gICAgICB2YXIgc3lzdGVtU3RhdHMgPSAoc3RhdHMuc3lzdGVtc1tzeXN0ZW0uY29uc3RydWN0b3IubmFtZV0gPSB7XG4gICAgICAgIHF1ZXJpZXM6IHt9XG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gc3lzdGVtLmN0eCkge1xuICAgICAgICBzeXN0ZW1TdGF0cy5xdWVyaWVzW25hbWVdID0gc3lzdGVtLmN0eFtuYW1lXS5zdGF0cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0cztcbiAgfVxufVxuIiwiLyoqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzIEV2ZW50RGlzcGF0Y2hlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgZmlyZWQ6IDAsXG4gICAgICBoYW5kbGVkOiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQ2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBldmVudCBpcyBmaXJlZFxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0uaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICBsaXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgbGlzdCBvZiBsaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBjaGVja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBDYWxsYmFjayBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKi9cbiAgaGFzRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdLmluZGV4T2YobGlzdGVuZXIpICE9PSAtMVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIENhbGxiYWNrIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxpc3RlbmVyQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYW4gZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBkaXNwYXRjaFxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IChPcHRpb25hbCkgRW50aXR5IHRvIGVtaXRcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFxuICAgKi9cbiAgZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIGVudGl0eSwgY29tcG9uZW50KSB7XG4gICAgdGhpcy5zdGF0cy5maXJlZCsrO1xuXG4gICAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYXJyYXkgPSBsaXN0ZW5lckFycmF5LnNsaWNlKDApO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldLmNhbGwodGhpcywgZW50aXR5LCBjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBzdGF0cyBjb3VudGVyc1xuICAgKi9cbiAgcmVzZXRDb3VudGVycygpIHtcbiAgICB0aGlzLnN0YXRzLmZpcmVkID0gdGhpcy5zdGF0cy5oYW5kbGVkID0gMDtcbiAgfVxufVxuIiwiLyoqXG4gKiBSZXR1cm4gdGhlIG5hbWUgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnRcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lKENvbXBvbmVudCkge1xuICByZXR1cm4gQ29tcG9uZW50Lm5hbWU7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgdmFsaWQgcHJvcGVydHkgbmFtZSBmb3IgdGhlIENvbXBvbmVudFxuICogQHBhcmFtIHtDb21wb25lbnR9IENvbXBvbmVudFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudFByb3BlcnR5TmFtZShDb21wb25lbnQpIHtcbiAgdmFyIG5hbWUgPSBnZXROYW1lKENvbXBvbmVudCk7XG4gIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBrZXkgZnJvbSBhIGxpc3Qgb2YgY29tcG9uZW50c1xuICogQHBhcmFtIHtBcnJheShDb21wb25lbnQpfSBDb21wb25lbnRzIEFycmF5IG9mIGNvbXBvbmVudHMgdG8gZ2VuZXJhdGUgdGhlIGtleVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5S2V5KENvbXBvbmVudHMpIHtcbiAgdmFyIG5hbWVzID0gW107XG4gIGZvciAodmFyIG4gPSAwOyBuIDwgQ29tcG9uZW50cy5sZW5ndGg7IG4rKykge1xuICAgIHZhciBUID0gQ29tcG9uZW50c1tuXTtcbiAgICBpZiAodHlwZW9mIFQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHZhciBvcGVyYXRvciA9IFQub3BlcmF0b3IgPT09IFwibm90XCIgPyBcIiFcIiA6IFQub3BlcmF0b3I7XG4gICAgICBuYW1lcy5wdXNoKG9wZXJhdG9yICsgZ2V0TmFtZShULkNvbXBvbmVudCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lcy5wdXNoKGdldE5hbWUoVCkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lcy5zb3J0KCkuam9pbihcIi1cIik7XG59XG4iLCJpbXBvcnQgRXZlbnREaXNwYXRjaGVyIGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlci5qc1wiO1xuaW1wb3J0IHsgcXVlcnlLZXkgfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5KENvbXBvbmVudCl9IENvbXBvbmVudHMgTGlzdCBvZiB0eXBlcyBvZiBjb21wb25lbnRzIHRvIHF1ZXJ5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihDb21wb25lbnRzLCBtYW5hZ2VyKSB7XG4gICAgdGhpcy5Db21wb25lbnRzID0gW107XG4gICAgdGhpcy5Ob3RDb21wb25lbnRzID0gW107XG5cbiAgICBDb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRoaXMuTm90Q29tcG9uZW50cy5wdXNoKGNvbXBvbmVudC5Db21wb25lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5Db21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLkNvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjcmVhdGUgYSBxdWVyeSB3aXRob3V0IGNvbXBvbmVudHNcIik7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdGllcyA9IFtdO1xuXG4gICAgdGhpcy5ldmVudERpc3BhdGNoZXIgPSBuZXcgRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgICAvLyBUaGlzIHF1ZXJ5IGlzIGJlaW5nIHVzZWQgYnkgYSByZWFjdGl2ZSBzeXN0ZW1cbiAgICB0aGlzLnJlYWN0aXZlID0gZmFsc2U7XG5cbiAgICB0aGlzLmtleSA9IHF1ZXJ5S2V5KENvbXBvbmVudHMpO1xuXG4gICAgLy8gRmlsbCB0aGUgcXVlcnkgd2l0aCB0aGUgZXhpc3RpbmcgZW50aXRpZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZXIuX2VudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZW50aXR5ID0gbWFuYWdlci5fZW50aXRpZXNbaV07XG4gICAgICBpZiAodGhpcy5tYXRjaChlbnRpdHkpKSB7XG4gICAgICAgIC8vIEB0b2RvID8/PyB0aGlzLmFkZEVudGl0eShlbnRpdHkpOyA9PiBwcmV2ZW50aW5nIHRoZSBldmVudCB0byBiZSBnZW5lcmF0ZWRcbiAgICAgICAgZW50aXR5LnF1ZXJpZXMucHVzaCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBlbnRpdHkgdG8gdGhpcyBxdWVyeVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5XG4gICAqL1xuICBhZGRFbnRpdHkoZW50aXR5KSB7XG4gICAgZW50aXR5LnF1ZXJpZXMucHVzaCh0aGlzKTtcbiAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcblxuICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoUXVlcnkucHJvdG90eXBlLkVOVElUWV9BRERFRCwgZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZW50aXR5IGZyb20gdGhpcyBxdWVyeVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5XG4gICAqL1xuICByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5lbnRpdGllcy5pbmRleE9mKGVudGl0eSk7XG4gICAgaWYgKH5pbmRleCkge1xuICAgICAgdGhpcy5lbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICBpbmRleCA9IGVudGl0eS5xdWVyaWVzLmluZGV4T2YodGhpcyk7XG4gICAgICBlbnRpdHkucXVlcmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBRdWVyeS5wcm90b3R5cGUuRU5USVRZX1JFTU9WRUQsXG4gICAgICAgIGVudGl0eVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBtYXRjaChlbnRpdHkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZW50aXR5Lmhhc0FsbENvbXBvbmVudHModGhpcy5Db21wb25lbnRzKSAmJlxuICAgICAgIWVudGl0eS5oYXNBbnlDb21wb25lbnRzKHRoaXMuTm90Q29tcG9uZW50cylcbiAgICApO1xuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgcmVhY3RpdmU6IHRoaXMucmVhY3RpdmUsXG4gICAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIGluY2x1ZGVkOiB0aGlzLkNvbXBvbmVudHMubWFwKEMgPT4gQy5uYW1lKSxcbiAgICAgICAgbm90OiB0aGlzLk5vdENvbXBvbmVudHMubWFwKEMgPT4gQy5uYW1lKVxuICAgICAgfSxcbiAgICAgIG51bUVudGl0aWVzOiB0aGlzLmVudGl0aWVzLmxlbmd0aFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHN0YXRzIGZvciB0aGlzIHF1ZXJ5XG4gICAqL1xuICBzdGF0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbnVtQ29tcG9uZW50czogdGhpcy5Db21wb25lbnRzLmxlbmd0aCxcbiAgICAgIG51bUVudGl0aWVzOiB0aGlzLmVudGl0aWVzLmxlbmd0aFxuICAgIH07XG4gIH1cbn1cblxuUXVlcnkucHJvdG90eXBlLkVOVElUWV9BRERFRCA9IFwiUXVlcnkjRU5USVRZX0FEREVEXCI7XG5RdWVyeS5wcm90b3R5cGUuRU5USVRZX1JFTU9WRUQgPSBcIlF1ZXJ5I0VOVElUWV9SRU1PVkVEXCI7XG5RdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQgPSBcIlF1ZXJ5I0NPTVBPTkVOVF9DSEFOR0VEXCI7XG4iLCJpbXBvcnQgUXVlcnkgZnJvbSBcIi4vUXVlcnkuanNcIjtcbmltcG9ydCB3cmFwSW1tdXRhYmxlQ29tcG9uZW50IGZyb20gXCIuL1dyYXBJbW11dGFibGVDb21wb25lbnQuanNcIjtcblxuLy8gQHRvZG8gVGFrZSB0aGlzIG91dCBmcm9tIHRoZXJlIG9yIHVzZSBFTlZcbmNvbnN0IERFQlVHID0gZmFsc2U7XG5cbnZhciBuZXh0SWQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHkge1xuICBjb25zdHJ1Y3Rvcih3b3JsZCkge1xuICAgIHRoaXMuX3dvcmxkID0gd29ybGQgfHwgbnVsbDtcblxuICAgIC8vIFVuaXF1ZSBJRCBmb3IgdGhpcyBlbnRpdHlcbiAgICB0aGlzLmlkID0gbmV4dElkKys7XG5cbiAgICAvLyBMaXN0IG9mIGNvbXBvbmVudHMgdHlwZXMgdGhlIGVudGl0eSBoYXNcbiAgICB0aGlzLl9Db21wb25lbnRUeXBlcyA9IFtdO1xuXG4gICAgLy8gSW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudHNcbiAgICB0aGlzLl9jb21wb25lbnRzID0ge307XG5cbiAgICB0aGlzLl9jb21wb25lbnRzVG9SZW1vdmUgPSB7fTtcblxuICAgIC8vIFF1ZXJpZXMgd2hlcmUgdGhlIGVudGl0eSBpcyBhZGRlZFxuICAgIHRoaXMucXVlcmllcyA9IFtdO1xuXG4gICAgLy8gVXNlZCBmb3IgZGVmZXJyZWQgcmVtb3ZhbFxuICAgIHRoaXMuX0NvbXBvbmVudFR5cGVzVG9SZW1vdmUgPSBbXTtcblxuICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENPTVBPTkVOVFNcblxuICBnZXRDb21wb25lbnQoQ29tcG9uZW50LCBpbmNsdWRlUmVtb3ZlZCkge1xuICAgIHZhciBjb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnRzW0NvbXBvbmVudC5uYW1lXTtcblxuICAgIGlmICghY29tcG9uZW50ICYmIGluY2x1ZGVSZW1vdmVkID09PSB0cnVlKSB7XG4gICAgICBjb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnRzVG9SZW1vdmVbQ29tcG9uZW50Lm5hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBERUJVRyA/IHdyYXBJbW11dGFibGVDb21wb25lbnQoQ29tcG9uZW50LCBjb21wb25lbnQpIDogY29tcG9uZW50O1xuICB9XG5cbiAgZ2V0UmVtb3ZlZENvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlW0NvbXBvbmVudC5uYW1lXTtcbiAgfVxuXG4gIGdldENvbXBvbmVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHM7XG4gIH1cblxuICBnZXRDb21wb25lbnRzVG9SZW1vdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZTtcbiAgfVxuXG4gIGdldENvbXBvbmVudFR5cGVzKCkge1xuICAgIHJldHVybiB0aGlzLl9Db21wb25lbnRUeXBlcztcbiAgfVxuXG4gIGdldE11dGFibGVDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbaV07XG4gICAgICAvLyBAdG9kbyBhY2NlbGVyYXRlIHRoaXMgY2hlY2suIE1heWJlIGhhdmluZyBxdWVyeS5fQ29tcG9uZW50cyBhcyBhbiBvYmplY3RcbiAgICAgIGlmIChxdWVyeS5yZWFjdGl2ZSAmJiBxdWVyeS5Db21wb25lbnRzLmluZGV4T2YoQ29tcG9uZW50KSAhPT0gLTEpIHtcbiAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgUXVlcnkucHJvdG90eXBlLkNPTVBPTkVOVF9DSEFOR0VELFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgY29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICBhZGRDb21wb25lbnQoQ29tcG9uZW50LCB2YWx1ZXMpIHtcbiAgICB0aGlzLl93b3JsZC5lbnRpdHlBZGRDb21wb25lbnQodGhpcywgQ29tcG9uZW50LCB2YWx1ZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlQ29tcG9uZW50KENvbXBvbmVudCwgZm9yY2VSZW1vdmUpIHtcbiAgICB0aGlzLl93b3JsZC5lbnRpdHlSZW1vdmVDb21wb25lbnQodGhpcywgQ29tcG9uZW50LCBmb3JjZVJlbW92ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBoYXNDb21wb25lbnQoQ29tcG9uZW50LCBpbmNsdWRlUmVtb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICAhIX50aGlzLl9Db21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCkgfHxcbiAgICAgIChpbmNsdWRlUmVtb3ZlZCA9PT0gdHJ1ZSAmJiB0aGlzLmhhc1JlbW92ZWRDb21wb25lbnQoQ29tcG9uZW50KSlcbiAgICApO1xuICB9XG5cbiAgaGFzUmVtb3ZlZENvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gISF+dGhpcy5fQ29tcG9uZW50VHlwZXNUb1JlbW92ZS5pbmRleE9mKENvbXBvbmVudCk7XG4gIH1cblxuICBoYXNBbGxDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5oYXNDb21wb25lbnQoQ29tcG9uZW50c1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXNBbnlDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChDb21wb25lbnRzW2ldKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbW92ZUFsbENvbXBvbmVudHMoZm9yY2VSZW1vdmUpIHtcbiAgICByZXR1cm4gdGhpcy5fd29ybGQuZW50aXR5UmVtb3ZlQWxsQ29tcG9uZW50cyh0aGlzLCBmb3JjZVJlbW92ZSk7XG4gIH1cblxuICAvLyBFWFRSQVNcblxuICAvLyBJbml0aWFsaXplIHRoZSBlbnRpdHkuIFRvIGJlIHVzZWQgd2hlbiByZXR1cm5pbmcgYW4gZW50aXR5IHRvIHRoZSBwb29sXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuaWQgPSBuZXh0SWQrKztcbiAgICB0aGlzLl93b3JsZCA9IG51bGw7XG4gICAgdGhpcy5fQ29tcG9uZW50VHlwZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnF1ZXJpZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9jb21wb25lbnRzID0ge307XG4gIH1cblxuICByZW1vdmUoZm9yY2VSZW1vdmUpIHtcbiAgICByZXR1cm4gdGhpcy5fd29ybGQucmVtb3ZlRW50aXR5KHRoaXMsIGZvcmNlUmVtb3ZlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0UG9vbCB7XG4gIC8vIEB0b2RvIEFkZCBpbml0aWFsIHNpemVcbiAgY29uc3RydWN0b3IoVCwgaW5pdGlhbFNpemUpIHtcbiAgICB0aGlzLmZyZWVMaXN0ID0gW107XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5UID0gVDtcbiAgICB0aGlzLmlzT2JqZWN0UG9vbCA9IHRydWU7XG5cbiAgICB2YXIgZXh0cmFBcmdzID0gbnVsbDtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGV4dHJhQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBleHRyYUFyZ3Muc2hpZnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUVsZW1lbnQgPSBleHRyYUFyZ3NcbiAgICAgID8gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgVCguLi5leHRyYUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gbmV3IFQoKTtcbiAgICAgICAgfTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFNpemUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuZXhwYW5kKGluaXRpYWxTaXplKTtcbiAgICB9XG4gIH1cblxuICBhcXVpcmUoKSB7XG4gICAgLy8gR3JvdyB0aGUgbGlzdCBieSAyMCVpc2ggaWYgd2UncmUgb3V0XG4gICAgaWYgKHRoaXMuZnJlZUxpc3QubGVuZ3RoIDw9IDApIHtcbiAgICAgIHRoaXMuZXhwYW5kKE1hdGgucm91bmQodGhpcy5jb3VudCAqIDAuMikgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHRoaXMuZnJlZUxpc3QucG9wKCk7XG5cbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIHJlbGVhc2UoaXRlbSkge1xuICAgIGl0ZW0ucmVzZXQoKTtcbiAgICB0aGlzLmZyZWVMaXN0LnB1c2goaXRlbSk7XG4gIH1cblxuICBleHBhbmQoY291bnQpIHtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNvdW50OyBuKyspIHtcbiAgICAgIHRoaXMuZnJlZUxpc3QucHVzaCh0aGlzLmNyZWF0ZUVsZW1lbnQoKSk7XG4gICAgfVxuICAgIHRoaXMuY291bnQgKz0gY291bnQ7XG4gIH1cblxuICB0b3RhbFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gIH1cblxuICB0b3RhbEZyZWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJlZUxpc3QubGVuZ3RoO1xuICB9XG5cbiAgdG90YWxVc2VkKCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50IC0gdGhpcy5mcmVlTGlzdC5sZW5ndGg7XG4gIH1cbn1cbiIsImltcG9ydCBRdWVyeSBmcm9tIFwiLi9RdWVyeS5qc1wiO1xuaW1wb3J0IHsgcXVlcnlLZXkgfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3MgUXVlcnlNYW5hZ2VyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHdvcmxkKSB7XG4gICAgdGhpcy5fd29ybGQgPSB3b3JsZDtcblxuICAgIC8vIFF1ZXJpZXMgaW5kZXhlZCBieSBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY29tcG9uZW50cyBpdCBoYXNcbiAgICB0aGlzLl9xdWVyaWVzID0ge307XG4gIH1cblxuICBvbkVudGl0eVJlbW92ZWQoZW50aXR5KSB7XG4gICAgZm9yICh2YXIgcXVlcnlOYW1lIGluIHRoaXMuX3F1ZXJpZXMpIHtcbiAgICAgIHZhciBxdWVyeSA9IHRoaXMuX3F1ZXJpZXNbcXVlcnlOYW1lXTtcbiAgICAgIGlmIChlbnRpdHkucXVlcmllcy5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHdoZW4gYSBjb21wb25lbnQgaXMgYWRkZWQgdG8gYW4gZW50aXR5XG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgRW50aXR5IHRoYXQganVzdCBnb3QgdGhlIG5ldyBjb21wb25lbnRcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IENvbXBvbmVudCBDb21wb25lbnQgYWRkZWQgdG8gdGhlIGVudGl0eVxuICAgKi9cbiAgb25FbnRpdHlDb21wb25lbnRBZGRlZChlbnRpdHksIENvbXBvbmVudCkge1xuICAgIC8vIEB0b2RvIFVzZSBiaXRtYXNrIGZvciBjaGVja2luZyBjb21wb25lbnRzP1xuXG4gICAgLy8gQ2hlY2sgZWFjaCBpbmRleGVkIHF1ZXJ5IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGFkZCB0aGlzIGVudGl0eSB0byB0aGUgbGlzdFxuICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLl9xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV07XG5cbiAgICAgIGlmIChcbiAgICAgICAgISF+cXVlcnkuTm90Q29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgJiZcbiAgICAgICAgfnF1ZXJ5LmVudGl0aWVzLmluZGV4T2YoZW50aXR5KVxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5LnJlbW92ZUVudGl0eShlbnRpdHkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRoZSBlbnRpdHkgb25seSBpZjpcbiAgICAgIC8vIENvbXBvbmVudCBpcyBpbiB0aGUgcXVlcnlcbiAgICAgIC8vIGFuZCBFbnRpdHkgaGFzIEFMTCB0aGUgY29tcG9uZW50cyBvZiB0aGUgcXVlcnlcbiAgICAgIC8vIGFuZCBFbnRpdHkgaXMgbm90IGFscmVhZHkgaW4gdGhlIHF1ZXJ5XG4gICAgICBpZiAoXG4gICAgICAgICF+cXVlcnkuQ29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgfHxcbiAgICAgICAgIXF1ZXJ5Lm1hdGNoKGVudGl0eSkgfHxcbiAgICAgICAgfnF1ZXJ5LmVudGl0aWVzLmluZGV4T2YoZW50aXR5KVxuICAgICAgKVxuICAgICAgICBjb250aW51ZTtcblxuICAgICAgcXVlcnkuYWRkRW50aXR5KGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHdoZW4gYSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIGFuIGVudGl0eVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmUgdGhlIGNvbXBvbmVudCBmcm9tXG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnQgQ29tcG9uZW50IHRvIHJlbW92ZSBmcm9tIHRoZSBlbnRpdHlcbiAgICovXG4gIG9uRW50aXR5Q29tcG9uZW50UmVtb3ZlZChlbnRpdHksIENvbXBvbmVudCkge1xuICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLl9xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV07XG5cbiAgICAgIGlmIChcbiAgICAgICAgISF+cXVlcnkuTm90Q29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgJiZcbiAgICAgICAgIX5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgJiZcbiAgICAgICAgcXVlcnkubWF0Y2goZW50aXR5KVxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5LmFkZEVudGl0eShlbnRpdHkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAhIX5xdWVyeS5Db21wb25lbnRzLmluZGV4T2YoQ29tcG9uZW50KSAmJlxuICAgICAgICAhIX5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgJiZcbiAgICAgICAgIXF1ZXJ5Lm1hdGNoKGVudGl0eSlcbiAgICAgICkge1xuICAgICAgICBxdWVyeS5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHF1ZXJ5IGZvciB0aGUgc3BlY2lmaWVkIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IENvbXBvbmVudHMgQ29tcG9uZW50cyB0aGF0IHRoZSBxdWVyeSBzaG91bGQgaGF2ZVxuICAgKi9cbiAgZ2V0UXVlcnkoQ29tcG9uZW50cykge1xuICAgIHZhciBrZXkgPSBxdWVyeUtleShDb21wb25lbnRzKTtcbiAgICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyaWVzW2tleV07XG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgdGhpcy5fcXVlcmllc1trZXldID0gcXVlcnkgPSBuZXcgUXVlcnkoQ29tcG9uZW50cywgdGhpcy5fd29ybGQpO1xuICAgIH1cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHNvbWUgc3RhdHMgZnJvbSB0aGlzIGNsYXNzXG4gICAqL1xuICBzdGF0cygpIHtcbiAgICB2YXIgc3RhdHMgPSB7fTtcbiAgICBmb3IgKHZhciBxdWVyeU5hbWUgaW4gdGhpcy5fcXVlcmllcykge1xuICAgICAgc3RhdHNbcXVlcnlOYW1lXSA9IHRoaXMuX3F1ZXJpZXNbcXVlcnlOYW1lXS5zdGF0cygpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTeXN0ZW1TdGF0ZUNvbXBvbmVudCB7fVxuXG5TeXN0ZW1TdGF0ZUNvbXBvbmVudC5pc1N5c3RlbVN0YXRlQ29tcG9uZW50ID0gdHJ1ZTtcbiIsImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5LmpzXCI7XG5pbXBvcnQgT2JqZWN0UG9vbCBmcm9tIFwiLi9PYmplY3RQb29sLmpzXCI7XG5pbXBvcnQgUXVlcnlNYW5hZ2VyIGZyb20gXCIuL1F1ZXJ5TWFuYWdlci5qc1wiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXIuanNcIjtcbmltcG9ydCB7IGNvbXBvbmVudFByb3BlcnR5TmFtZSwgZ2V0TmFtZSB9IGZyb20gXCIuL1V0aWxzLmpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1TdGF0ZUNvbXBvbmVudCB9IGZyb20gXCIuL1N5c3RlbVN0YXRlQ29tcG9uZW50LmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBjbGFzcyBFbnRpdHlNYW5hZ2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnRpdHlNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jb21wb25lbnRzTWFuYWdlciA9IHdvcmxkLmNvbXBvbmVudHNNYW5hZ2VyO1xuXG4gICAgLy8gQWxsIHRoZSBlbnRpdGllcyBpbiB0aGlzIGluc3RhbmNlXG4gICAgdGhpcy5fZW50aXRpZXMgPSBbXTtcblxuICAgIHRoaXMuX3F1ZXJ5TWFuYWdlciA9IG5ldyBRdWVyeU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5ldmVudERpc3BhdGNoZXIgPSBuZXcgRXZlbnREaXNwYXRjaGVyKCk7XG4gICAgdGhpcy5fZW50aXR5UG9vbCA9IG5ldyBPYmplY3RQb29sKEVudGl0eSk7XG5cbiAgICAvLyBEZWZlcnJlZCBkZWxldGlvblxuICAgIHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlID0gW107XG4gICAgdGhpcy5lbnRpdGllc1RvUmVtb3ZlID0gW107XG4gICAgdGhpcy5kZWZlcnJlZFJlbW92YWxFbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMubnVtU3RhdGVDb21wb25lbnRzID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZW50aXR5XG4gICAqL1xuICBjcmVhdGVFbnRpdHkoKSB7XG4gICAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0eVBvb2wuYXF1aXJlKCk7XG4gICAgZW50aXR5LmFsaXZlID0gdHJ1ZTtcbiAgICBlbnRpdHkuX3dvcmxkID0gdGhpcztcbiAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgdGhpcy5ldmVudERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChFTlRJVFlfQ1JFQVRFRCwgZW50aXR5KTtcbiAgICByZXR1cm4gZW50aXR5O1xuICB9XG5cbiAgLy8gQ09NUE9ORU5UU1xuXG4gIC8qKlxuICAgKiBBZGQgYSBjb21wb25lbnQgdG8gYW4gZW50aXR5XG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgRW50aXR5IHdoZXJlIHRoZSBjb21wb25lbnQgd2lsbCBiZSBhZGRlZFxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gQ29tcG9uZW50IENvbXBvbmVudCB0byBiZSBhZGRlZCB0byB0aGUgZW50aXR5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXMgT3B0aW9uYWwgdmFsdWVzIHRvIHJlcGxhY2UgdGhlIGRlZmF1bHQgYXR0cmlidXRlc1xuICAgKi9cbiAgZW50aXR5QWRkQ29tcG9uZW50KGVudGl0eSwgQ29tcG9uZW50LCB2YWx1ZXMpIHtcbiAgICBpZiAofmVudGl0eS5fQ29tcG9uZW50VHlwZXMuaW5kZXhPZihDb21wb25lbnQpKSByZXR1cm47XG5cbiAgICBlbnRpdHkuX0NvbXBvbmVudFR5cGVzLnB1c2goQ29tcG9uZW50KTtcblxuICAgIGlmIChDb21wb25lbnQuX19wcm90b19fID09PSBTeXN0ZW1TdGF0ZUNvbXBvbmVudCkge1xuICAgICAgdGhpcy5udW1TdGF0ZUNvbXBvbmVudHMrKztcbiAgICB9XG5cbiAgICB2YXIgY29tcG9uZW50UG9vbCA9IHRoaXMud29ybGQuY29tcG9uZW50c01hbmFnZXIuZ2V0Q29tcG9uZW50c1Bvb2woXG4gICAgICBDb21wb25lbnRcbiAgICApO1xuICAgIHZhciBjb21wb25lbnQgPSBjb21wb25lbnRQb29sLmFxdWlyZSgpO1xuXG4gICAgZW50aXR5Ll9jb21wb25lbnRzW0NvbXBvbmVudC5uYW1lXSA9IGNvbXBvbmVudDtcblxuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgIGlmIChjb21wb25lbnQuY29weSkge1xuICAgICAgICBjb21wb25lbnQuY29weSh2YWx1ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICBjb21wb25lbnRbbmFtZV0gPSB2YWx1ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9xdWVyeU1hbmFnZXIub25FbnRpdHlDb21wb25lbnRBZGRlZChlbnRpdHksIENvbXBvbmVudCk7XG4gICAgdGhpcy53b3JsZC5jb21wb25lbnRzTWFuYWdlci5jb21wb25lbnRBZGRlZFRvRW50aXR5KENvbXBvbmVudCk7XG5cbiAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KENPTVBPTkVOVF9BRERFRCwgZW50aXR5LCBDb21wb25lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIGFuIGVudGl0eVxuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB3aGljaCB3aWxsIGdldCByZW1vdmVkIHRoZSBjb21wb25lbnRcbiAgICogQHBhcmFtIHsqfSBDb21wb25lbnQgQ29tcG9uZW50IHRvIHJlbW92ZSBmcm9tIHRoZSBlbnRpdHlcbiAgICogQHBhcmFtIHtCb29sfSBpbW1lZGlhdGVseSBJZiB5b3Ugd2FudCB0byByZW1vdmUgdGhlIGNvbXBvbmVudCBpbW1lZGlhdGVseSBpbnN0ZWFkIG9mIGRlZmVycmVkIChEZWZhdWx0IGlzIGZhbHNlKVxuICAgKi9cbiAgZW50aXR5UmVtb3ZlQ29tcG9uZW50KGVudGl0eSwgQ29tcG9uZW50LCBpbW1lZGlhdGVseSkge1xuICAgIHZhciBpbmRleCA9IGVudGl0eS5fQ29tcG9uZW50VHlwZXMuaW5kZXhPZihDb21wb25lbnQpO1xuICAgIGlmICghfmluZGV4KSByZXR1cm47XG5cbiAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KENPTVBPTkVOVF9SRU1PVkUsIGVudGl0eSwgQ29tcG9uZW50KTtcblxuICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy5fZW50aXR5UmVtb3ZlQ29tcG9uZW50U3luYyhlbnRpdHksIENvbXBvbmVudCwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZW50aXR5Ll9Db21wb25lbnRUeXBlc1RvUmVtb3ZlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhpcy5lbnRpdGllc1dpdGhDb21wb25lbnRzVG9SZW1vdmUucHVzaChlbnRpdHkpO1xuXG4gICAgICBlbnRpdHkuX0NvbXBvbmVudFR5cGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBlbnRpdHkuX0NvbXBvbmVudFR5cGVzVG9SZW1vdmUucHVzaChDb21wb25lbnQpO1xuXG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldE5hbWUoQ29tcG9uZW50KTtcbiAgICAgIGVudGl0eS5fY29tcG9uZW50c1RvUmVtb3ZlW2NvbXBvbmVudE5hbWVdID1cbiAgICAgICAgZW50aXR5Ll9jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdO1xuICAgICAgZGVsZXRlIGVudGl0eS5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBlYWNoIGluZGV4ZWQgcXVlcnkgdG8gc2VlIGlmIHdlIG5lZWQgdG8gcmVtb3ZlIGl0XG4gICAgdGhpcy5fcXVlcnlNYW5hZ2VyLm9uRW50aXR5Q29tcG9uZW50UmVtb3ZlZChlbnRpdHksIENvbXBvbmVudCk7XG5cbiAgICBpZiAoQ29tcG9uZW50Ll9fcHJvdG9fXyA9PT0gU3lzdGVtU3RhdGVDb21wb25lbnQpIHtcbiAgICAgIHRoaXMubnVtU3RhdGVDb21wb25lbnRzLS07XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBlbnRpdHkgd2FzIGEgZ2hvc3Qgd2FpdGluZyBmb3IgdGhlIGxhc3Qgc3lzdGVtIHN0YXRlIGNvbXBvbmVudCB0byBiZSByZW1vdmVkXG4gICAgICBpZiAodGhpcy5udW1TdGF0ZUNvbXBvbmVudHMgPT09IDAgJiYgIWVudGl0eS5hbGl2ZSkge1xuICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2VudGl0eVJlbW92ZUNvbXBvbmVudFN5bmMoZW50aXR5LCBDb21wb25lbnQsIGluZGV4KSB7XG4gICAgLy8gUmVtb3ZlIFQgbGlzdGluZyBvbiBlbnRpdHkgYW5kIHByb3BlcnR5IHJlZiwgdGhlbiBmcmVlIHRoZSBjb21wb25lbnQuXG4gICAgZW50aXR5Ll9Db21wb25lbnRUeXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZhciBwcm9wTmFtZSA9IGNvbXBvbmVudFByb3BlcnR5TmFtZShDb21wb25lbnQpO1xuICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0TmFtZShDb21wb25lbnQpO1xuICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgZGVsZXRlIGVudGl0eS5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcbiAgICB0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sW3Byb3BOYW1lXS5yZWxlYXNlKGNvbXBvbmVudCk7XG4gICAgdGhpcy53b3JsZC5jb21wb25lbnRzTWFuYWdlci5jb21wb25lbnRSZW1vdmVkRnJvbUVudGl0eShDb21wb25lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgdGhlIGNvbXBvbmVudHMgZnJvbSBhbiBlbnRpdHlcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50cyB3aWxsIGJlIHJlbW92ZWRcbiAgICovXG4gIGVudGl0eVJlbW92ZUFsbENvbXBvbmVudHMoZW50aXR5LCBpbW1lZGlhdGVseSkge1xuICAgIGxldCBDb21wb25lbnRzID0gZW50aXR5Ll9Db21wb25lbnRUeXBlcztcblxuICAgIGZvciAobGV0IGogPSBDb21wb25lbnRzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoQ29tcG9uZW50c1tqXS5fX3Byb3RvX18gIT09IFN5c3RlbVN0YXRlQ29tcG9uZW50KVxuICAgICAgICB0aGlzLmVudGl0eVJlbW92ZUNvbXBvbmVudChlbnRpdHksIENvbXBvbmVudHNbal0sIGltbWVkaWF0ZWx5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBlbnRpdHkgZnJvbSB0aGlzIG1hbmFnZXIuIEl0IHdpbGwgY2xlYXIgYWxzbyBpdHMgY29tcG9uZW50c1xuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmUgZnJvbSB0aGUgbWFuYWdlclxuICAgKiBAcGFyYW0ge0Jvb2x9IGltbWVkaWF0ZWx5IElmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGUgY29tcG9uZW50IGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZGVmZXJyZWQgKERlZmF1bHQgaXMgZmFsc2UpXG4gICAqL1xuICByZW1vdmVFbnRpdHkoZW50aXR5LCBpbW1lZGlhdGVseSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX2VudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcblxuICAgIGlmICghfmluZGV4KSB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byByZW1vdmUgZW50aXR5IG5vdCBpbiBsaXN0XCIpO1xuXG4gICAgZW50aXR5LmFsaXZlID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5udW1TdGF0ZUNvbXBvbmVudHMgPT09IDApIHtcbiAgICAgIC8vIFJlbW92ZSBmcm9tIGVudGl0eSBsaXN0XG4gICAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KEVOVElUWV9SRU1PVkVELCBlbnRpdHkpO1xuICAgICAgdGhpcy5fcXVlcnlNYW5hZ2VyLm9uRW50aXR5UmVtb3ZlZChlbnRpdHkpO1xuICAgICAgaWYgKGltbWVkaWF0ZWx5ID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3JlbGVhc2VFbnRpdHkoZW50aXR5LCBpbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0aWVzVG9SZW1vdmUucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZW50aXR5UmVtb3ZlQWxsQ29tcG9uZW50cyhlbnRpdHksIGltbWVkaWF0ZWx5KTtcbiAgfVxuXG4gIF9yZWxlYXNlRW50aXR5KGVudGl0eSwgaW5kZXgpIHtcbiAgICB0aGlzLl9lbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgLy8gUHJldmVudCBhbnkgYWNjZXNzIGFuZCBmcmVlXG4gICAgZW50aXR5Ll93b3JsZCA9IG51bGw7XG4gICAgdGhpcy5fZW50aXR5UG9vbC5yZWxlYXNlKGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbnRpdGllcyBmcm9tIHRoaXMgbWFuYWdlclxuICAgKi9cbiAgcmVtb3ZlQWxsRW50aXRpZXMoKSB7XG4gICAgZm9yICh2YXIgaSA9IHRoaXMuX2VudGl0aWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnJlbW92ZUVudGl0eSh0aGlzLl9lbnRpdGllc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc0RlZmVycmVkUmVtb3ZhbCgpIHtcbiAgICBpZiAoIXRoaXMuZGVmZXJyZWRSZW1vdmFsRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbnRpdGllc1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gdGhpcy5lbnRpdGllc1RvUmVtb3ZlW2ldO1xuICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZW50aXRpZXMuaW5kZXhPZihlbnRpdHkpO1xuICAgICAgdGhpcy5fcmVsZWFzZUVudGl0eShlbnRpdHksIGluZGV4KTtcbiAgICB9XG4gICAgdGhpcy5lbnRpdGllc1RvUmVtb3ZlLmxlbmd0aCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gdGhpcy5lbnRpdGllc1dpdGhDb21wb25lbnRzVG9SZW1vdmVbaV07XG4gICAgICB3aGlsZSAoZW50aXR5Ll9Db21wb25lbnRUeXBlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IENvbXBvbmVudCA9IGVudGl0eS5fQ29tcG9uZW50VHlwZXNUb1JlbW92ZS5wb3AoKTtcblxuICAgICAgICB2YXIgcHJvcE5hbWUgPSBjb21wb25lbnRQcm9wZXJ0eU5hbWUoQ29tcG9uZW50KTtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXROYW1lKENvbXBvbmVudCk7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBlbnRpdHkuX2NvbXBvbmVudHNUb1JlbW92ZVtjb21wb25lbnROYW1lXTtcbiAgICAgICAgZGVsZXRlIGVudGl0eS5fY29tcG9uZW50c1RvUmVtb3ZlW2NvbXBvbmVudE5hbWVdO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sW3Byb3BOYW1lXS5yZWxlYXNlKGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMud29ybGQuY29tcG9uZW50c01hbmFnZXIuY29tcG9uZW50UmVtb3ZlZEZyb21FbnRpdHkoQ29tcG9uZW50KTtcblxuICAgICAgICAvL3RoaXMuX2VudGl0eVJlbW92ZUNvbXBvbmVudFN5bmMoZW50aXR5LCBDb21wb25lbnQsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZS5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHF1ZXJ5IGJhc2VkIG9uIGEgbGlzdCBvZiBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB7QXJyYXkoQ29tcG9uZW50KX0gQ29tcG9uZW50cyBMaXN0IG9mIGNvbXBvbmVudHMgdGhhdCB3aWxsIGZvcm0gdGhlIHF1ZXJ5XG4gICAqL1xuICBxdWVyeUNvbXBvbmVudHMoQ29tcG9uZW50cykge1xuICAgIHJldHVybiB0aGlzLl9xdWVyeU1hbmFnZXIuZ2V0UXVlcnkoQ29tcG9uZW50cyk7XG4gIH1cblxuICAvLyBFWFRSQVNcblxuICAvKipcbiAgICogUmV0dXJuIG51bWJlciBvZiBlbnRpdGllc1xuICAgKi9cbiAgY291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gc29tZSBzdGF0c1xuICAgKi9cbiAgc3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0ge1xuICAgICAgbnVtRW50aXRpZXM6IHRoaXMuX2VudGl0aWVzLmxlbmd0aCxcbiAgICAgIG51bVF1ZXJpZXM6IE9iamVjdC5rZXlzKHRoaXMuX3F1ZXJ5TWFuYWdlci5fcXVlcmllcykubGVuZ3RoLFxuICAgICAgcXVlcmllczogdGhpcy5fcXVlcnlNYW5hZ2VyLnN0YXRzKCksXG4gICAgICBudW1Db21wb25lbnRQb29sOiBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHNNYW5hZ2VyLl9jb21wb25lbnRQb29sKVxuICAgICAgICAubGVuZ3RoLFxuICAgICAgY29tcG9uZW50UG9vbDoge30sXG4gICAgICBldmVudERpc3BhdGNoZXI6IHRoaXMuZXZlbnREaXNwYXRjaGVyLnN0YXRzXG4gICAgfTtcblxuICAgIGZvciAodmFyIGNuYW1lIGluIHRoaXMuY29tcG9uZW50c01hbmFnZXIuX2NvbXBvbmVudFBvb2wpIHtcbiAgICAgIHZhciBwb29sID0gdGhpcy5jb21wb25lbnRzTWFuYWdlci5fY29tcG9uZW50UG9vbFtjbmFtZV07XG4gICAgICBzdGF0cy5jb21wb25lbnRQb29sW2NuYW1lXSA9IHtcbiAgICAgICAgdXNlZDogcG9vbC50b3RhbFVzZWQoKSxcbiAgICAgICAgc2l6ZTogcG9vbC5jb3VudFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdHM7XG4gIH1cbn1cblxuY29uc3QgRU5USVRZX0NSRUFURUQgPSBcIkVudGl0eU1hbmFnZXIjRU5USVRZX0NSRUFURVwiO1xuY29uc3QgRU5USVRZX1JFTU9WRUQgPSBcIkVudGl0eU1hbmFnZXIjRU5USVRZX1JFTU9WRURcIjtcbmNvbnN0IENPTVBPTkVOVF9BRERFRCA9IFwiRW50aXR5TWFuYWdlciNDT01QT05FTlRfQURERURcIjtcbmNvbnN0IENPTVBPTkVOVF9SRU1PVkUgPSBcIkVudGl0eU1hbmFnZXIjQ09NUE9ORU5UX1JFTU9WRVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVtbXlPYmplY3RQb29sIHtcbiAgY29uc3RydWN0b3IoVCkge1xuICAgIHRoaXMuaXNEdW1teU9iamVjdFBvb2wgPSB0cnVlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMudXNlZCA9IDA7XG4gICAgdGhpcy5UID0gVDtcbiAgfVxuXG4gIGFxdWlyZSgpIHtcbiAgICB0aGlzLnVzZWQrKztcbiAgICB0aGlzLmNvdW50Kys7XG4gICAgcmV0dXJuIG5ldyB0aGlzLlQoKTtcbiAgfVxuXG4gIHJlbGVhc2UoKSB7XG4gICAgdGhpcy51c2VkLS07XG4gIH1cblxuICB0b3RhbFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gIH1cblxuICB0b3RhbEZyZWUoKSB7XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9XG5cbiAgdG90YWxVc2VkKCkge1xuICAgIHJldHVybiB0aGlzLnVzZWQ7XG4gIH1cbn1cbiIsImltcG9ydCBPYmplY3RQb29sIGZyb20gXCIuL09iamVjdFBvb2wuanNcIjtcbmltcG9ydCBEdW1teU9iamVjdFBvb2wgZnJvbSBcIi4vRHVtbXlPYmplY3RQb29sLmpzXCI7XG5pbXBvcnQgeyBjb21wb25lbnRQcm9wZXJ0eU5hbWUgfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuQ29tcG9uZW50cyA9IHt9O1xuICAgIHRoaXMuX2NvbXBvbmVudFBvb2wgPSB7fTtcbiAgICB0aGlzLm51bUNvbXBvbmVudHMgPSB7fTtcbiAgfVxuXG4gIHJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudCkge1xuICAgIGlmICh0aGlzLkNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENvbXBvbmVudCB0eXBlOiAnJHtDb21wb25lbnQubmFtZX0nIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLkNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdID0gQ29tcG9uZW50O1xuICAgIHRoaXMubnVtQ29tcG9uZW50c1tDb21wb25lbnQubmFtZV0gPSAwO1xuICB9XG5cbiAgY29tcG9uZW50QWRkZWRUb0VudGl0eShDb21wb25lbnQpIHtcbiAgICBpZiAoIXRoaXMuQ29tcG9uZW50c1tDb21wb25lbnQubmFtZV0pIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLm51bUNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdKys7XG4gIH1cblxuICBjb21wb25lbnRSZW1vdmVkRnJvbUVudGl0eShDb21wb25lbnQpIHtcbiAgICB0aGlzLm51bUNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdLS07XG4gIH1cblxuICBnZXRDb21wb25lbnRzUG9vbChDb21wb25lbnQpIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudFByb3BlcnR5TmFtZShDb21wb25lbnQpO1xuXG4gICAgaWYgKCF0aGlzLl9jb21wb25lbnRQb29sW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICBpZiAoQ29tcG9uZW50LnByb3RvdHlwZS5yZXNldCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRQb29sW2NvbXBvbmVudE5hbWVdID0gbmV3IE9iamVjdFBvb2woQ29tcG9uZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgQ29tcG9uZW50ICcke0NvbXBvbmVudC5uYW1lfScgd29uJ3QgYmVuZWZpdCBmcm9tIHBvb2xpbmcgYmVjYXVzZSAncmVzZXQnIG1ldGhvZCB3YXMgbm90IGltcGxlbWVuZXRlZC5gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFBvb2xbY29tcG9uZW50TmFtZV0gPSBuZXcgRHVtbXlPYmplY3RQb29sKENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudFBvb2xbY29tcG9uZW50TmFtZV07XG4gIH1cbn1cbiIsImltcG9ydCBwanNvbiBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5leHBvcnQgY29uc3QgVmVyc2lvbiA9IHBqc29uLnZlcnNpb247XG4iLCJpbXBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH0gZnJvbSBcIi4vU3lzdGVtTWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgRW50aXR5TWFuYWdlciB9IGZyb20gXCIuL0VudGl0eU1hbmFnZXIuanNcIjtcbmltcG9ydCB7IENvbXBvbmVudE1hbmFnZXIgfSBmcm9tIFwiLi9Db21wb25lbnRNYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBWZXJzaW9uIH0gZnJvbSBcIi4vVmVyc2lvbi5qc1wiO1xuXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbXBvbmVudHNNYW5hZ2VyID0gbmV3IENvbXBvbmVudE1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5lbnRpdHlNYW5hZ2VyID0gbmV3IEVudGl0eU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5zeXN0ZW1NYW5hZ2VyID0gbmV3IFN5c3RlbU1hbmFnZXIodGhpcyk7XG5cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5ldmVudFF1ZXVlcyA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiZWNzeS13b3JsZC1jcmVhdGVkXCIsIHtcbiAgICAgICAgZGV0YWlsOiB7IHdvcmxkOiB0aGlzLCB2ZXJzaW9uOiBWZXJzaW9uIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cblxuICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIHJlZ2lzdGVyQ29tcG9uZW50KENvbXBvbmVudCkge1xuICAgIHRoaXMuY29tcG9uZW50c01hbmFnZXIucmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlZ2lzdGVyU3lzdGVtKFN5c3RlbSwgYXR0cmlidXRlcykge1xuICAgIHRoaXMuc3lzdGVtTWFuYWdlci5yZWdpc3RlclN5c3RlbShTeXN0ZW0sIGF0dHJpYnV0ZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0U3lzdGVtKFN5c3RlbUNsYXNzKSB7XG4gICAgcmV0dXJuIHRoaXMuc3lzdGVtTWFuYWdlci5nZXRTeXN0ZW0oU3lzdGVtQ2xhc3MpO1xuICB9XG5cbiAgZ2V0U3lzdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW1NYW5hZ2VyLmdldFN5c3RlbXMoKTtcbiAgfVxuXG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUpIHtcbiAgICBpZiAoIWRlbHRhKSB7XG4gICAgICBsZXQgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgZGVsdGEgPSB0aW1lIC0gdGhpcy5sYXN0VGltZTtcbiAgICAgIHRoaXMubGFzdFRpbWUgPSB0aW1lO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuc3lzdGVtTWFuYWdlci5leGVjdXRlKGRlbHRhLCB0aW1lKTtcbiAgICAgIHRoaXMuZW50aXR5TWFuYWdlci5wcm9jZXNzRGVmZXJyZWRSZW1vdmFsKCk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGNyZWF0ZUVudGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRpdHlNYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xuICB9XG5cbiAgc3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0ge1xuICAgICAgZW50aXRpZXM6IHRoaXMuZW50aXR5TWFuYWdlci5zdGF0cygpLFxuICAgICAgc3lzdGVtOiB0aGlzLnN5c3RlbU1hbmFnZXIuc3RhdHMoKVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzdGF0cywgbnVsbCwgMikpO1xuICB9XG59XG4iLCJpbXBvcnQgUXVlcnkgZnJvbSBcIi4vUXVlcnkuanNcIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbSB7XG4gIGNhbkV4ZWN1dGUoKSB7XG4gICAgaWYgKHRoaXMuX21hbmRhdG9yeVF1ZXJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbWFuZGF0b3J5UXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5fbWFuZGF0b3J5UXVlcmllc1tpXTtcbiAgICAgIGlmIChxdWVyeS5lbnRpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3RydWN0b3Iod29ybGQsIGF0dHJpYnV0ZXMpIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIEB0b2RvIEJldHRlciBuYW1pbmcgOilcbiAgICB0aGlzLl9xdWVyaWVzID0ge307XG4gICAgdGhpcy5xdWVyaWVzID0ge307XG5cbiAgICB0aGlzLnByaW9yaXR5ID0gMDtcblxuICAgIC8vIFVzZWQgZm9yIHN0YXRzXG4gICAgdGhpcy5leGVjdXRlVGltZSA9IDA7XG5cbiAgICBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLnByaW9yaXR5KSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gYXR0cmlidXRlcy5wcmlvcml0eTtcbiAgICB9XG5cbiAgICB0aGlzLl9tYW5kYXRvcnlRdWVyaWVzID0gW107XG5cbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgICAgdmFyIHF1ZXJ5Q29uZmlnID0gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIHZhciBDb21wb25lbnRzID0gcXVlcnlDb25maWcuY29tcG9uZW50cztcbiAgICAgICAgaWYgKCFDb21wb25lbnRzIHx8IENvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ2NvbXBvbmVudHMnIGF0dHJpYnV0ZSBjYW4ndCBiZSBlbXB0eSBpbiBhIHF1ZXJ5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMud29ybGQuZW50aXR5TWFuYWdlci5xdWVyeUNvbXBvbmVudHMoQ29tcG9uZW50cyk7XG4gICAgICAgIHRoaXMuX3F1ZXJpZXNbcXVlcnlOYW1lXSA9IHF1ZXJ5O1xuICAgICAgICBpZiAocXVlcnlDb25maWcubWFuZGF0b3J5ID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5fbWFuZGF0b3J5UXVlcmllcy5wdXNoKHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXSA9IHtcbiAgICAgICAgICByZXN1bHRzOiBxdWVyeS5lbnRpdGllc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlYWN0aXZlIGNvbmZpZ3VyYXRpb24gYWRkZWQvcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICAgIHZhciB2YWxpZEV2ZW50cyA9IFtcImFkZGVkXCIsIFwicmVtb3ZlZFwiLCBcImNoYW5nZWRcIl07XG5cbiAgICAgICAgY29uc3QgZXZlbnRNYXBwaW5nID0ge1xuICAgICAgICAgIGFkZGVkOiBRdWVyeS5wcm90b3R5cGUuRU5USVRZX0FEREVELFxuICAgICAgICAgIHJlbW92ZWQ6IFF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfUkVNT1ZFRCxcbiAgICAgICAgICBjaGFuZ2VkOiBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQgLy8gUXVlcnkucHJvdG90eXBlLkVOVElUWV9DSEFOR0VEXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHF1ZXJ5Q29uZmlnLmxpc3Rlbikge1xuICAgICAgICAgIHZhbGlkRXZlbnRzLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgICAgIC8vIElzIHRoZSBldmVudCBlbmFibGVkIG9uIHRoaXMgc3lzdGVtJ3MgcXVlcnk/XG4gICAgICAgICAgICBpZiAocXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gcXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gXCJjaGFuZ2VkXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeS5yZWFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBbnkgY2hhbmdlIG9uIHRoZSBlbnRpdHkgZnJvbSB0aGUgY29tcG9uZW50cyBpbiB0aGUgcXVlcnlcbiAgICAgICAgICAgICAgICAgIGxldCBldmVudExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IFtdKTtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LmV2ZW50RGlzcGF0Y2hlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudExpc3QuaW5kZXhPZihlbnRpdHkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuICAgICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFF1ZXJ5LnByb3RvdHlwZS5DT01QT05FTlRfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5pbmRleE9mKGNoYW5nZWRDb21wb25lbnQuY29uc3RydWN0b3IpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcganVzdCBzcGVjaWZpYyBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9IChjaGFuZ2VkTGlzdFtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wZXJ0eU5hbWUoY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICBdID0gW10pO1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5ldmVudERpc3BhdGNoZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkQ29tcG9uZW50LmNvbnN0cnVjdG9yID09PSBjb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3QucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuXG4gICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICBldmVudE1hcHBpbmdbZXZlbnROYW1lXSxcbiAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEBmaXhtZSBvdmVyaGVhZD9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdC5pbmRleE9mKGVudGl0eSkgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmV4ZWN1dGVUaW1lID0gMDtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEBxdWVzdGlvbiByZW5hbWUgdG8gY2xlYXIgcXVldWVzP1xuICBjbGVhckV2ZW50cygpIHtcbiAgICBmb3IgKGxldCBxdWVyeU5hbWUgaW4gdGhpcy5xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXTtcbiAgICAgIGlmIChxdWVyeS5hZGRlZCkge1xuICAgICAgICBxdWVyeS5hZGRlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LnJlbW92ZWQpIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LmNoYW5nZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocXVlcnkuY2hhbmdlZCkpIHtcbiAgICAgICAgICBxdWVyeS5jaGFuZ2VkLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBxdWVyeS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICBxdWVyeS5jaGFuZ2VkW25hbWVdLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge1xuICAgICAgbmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgZW5hYmxlZDogdGhpcy5lbmFibGVkLFxuICAgICAgZXhlY3V0ZVRpbWU6IHRoaXMuZXhlY3V0ZVRpbWUsXG4gICAgICBwcmlvcml0eTogdGhpcy5wcmlvcml0eSxcbiAgICAgIHF1ZXJpZXM6IHt9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzO1xuICAgICAgZm9yIChsZXQgcXVlcnlOYW1lIGluIHF1ZXJpZXMpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBxdWVyeURlZmluaXRpb24gPSBxdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBqc29uUXVlcnkgPSAoanNvbi5xdWVyaWVzW3F1ZXJ5TmFtZV0gPSB7XG4gICAgICAgICAga2V5OiB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV0ua2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGpzb25RdWVyeS5tYW5kYXRvcnkgPSBxdWVyeURlZmluaXRpb24ubWFuZGF0b3J5ID09PSB0cnVlO1xuICAgICAgICBqc29uUXVlcnkucmVhY3RpdmUgPVxuICAgICAgICAgIHF1ZXJ5RGVmaW5pdGlvbi5saXN0ZW4gJiZcbiAgICAgICAgICAocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5hZGRlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgcXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5yZW1vdmVkID09PSB0cnVlIHx8XG4gICAgICAgICAgICBxdWVyeURlZmluaXRpb24ubGlzdGVuLmNoYW5nZWQgPT09IHRydWUgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5jaGFuZ2VkKSk7XG5cbiAgICAgICAgaWYgKGpzb25RdWVyeS5yZWFjdGl2ZSkge1xuICAgICAgICAgIGpzb25RdWVyeS5saXN0ZW4gPSB7fTtcblxuICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSBbXCJhZGRlZFwiLCBcInJlbW92ZWRcIiwgXCJjaGFuZ2VkXCJdO1xuICAgICAgICAgIG1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICAgICAgaWYgKHF1ZXJ5W21ldGhvZF0pIHtcbiAgICAgICAgICAgICAganNvblF1ZXJ5Lmxpc3RlblttZXRob2RdID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBxdWVyeVttZXRob2RdLmxlbmd0aFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdChDb21wb25lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBvcGVyYXRvcjogXCJub3RcIixcbiAgICBDb21wb25lbnQ6IENvbXBvbmVudFxuICB9O1xufVxuIiwiZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7fVxuXG5Db21wb25lbnQuaXNDb21wb25lbnQgPSB0cnVlO1xuIiwiZXhwb3J0IGNsYXNzIFRhZ0NvbXBvbmVudCB7XG4gIHJlc2V0KCkge31cbn1cblxuVGFnQ29tcG9uZW50LmlzVGFnQ29tcG9uZW50ID0gdHJ1ZTtcbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUeXBlKHR5cGVEZWZpbml0aW9uKSB7XG4gIHZhciBtYW5kYXRvcnlGdW5jdGlvbnMgPSBbXG4gICAgXCJjcmVhdGVcIixcbiAgICBcInJlc2V0XCIsXG4gICAgXCJjbGVhclwiXG4gICAgLypcImNvcHlcIiovXG4gIF07XG5cbiAgdmFyIHVuZGVmaW5lZEZ1bmN0aW9ucyA9IG1hbmRhdG9yeUZ1bmN0aW9ucy5maWx0ZXIoZiA9PiB7XG4gICAgcmV0dXJuICF0eXBlRGVmaW5pdGlvbltmXTtcbiAgfSk7XG5cbiAgaWYgKHVuZGVmaW5lZEZ1bmN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYGNyZWF0ZVR5cGUgZXhwZWN0IHR5cGUgZGVmaW5pdGlvbiB0byBpbXBsZW1lbnRzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOiAke3VuZGVmaW5lZEZ1bmN0aW9ucy5qb2luKFxuICAgICAgICBcIiwgXCJcbiAgICAgICl9YFxuICAgICk7XG4gIH1cblxuICB0eXBlRGVmaW5pdGlvbi5pc1R5cGUgPSB0cnVlO1xuICByZXR1cm4gdHlwZURlZmluaXRpb247XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVUeXBlIH0gZnJvbSBcIi4vQ3JlYXRlVHlwZVwiO1xuXG4vKipcbiAqIFN0YW5kYXJkIHR5cGVzXG4gKi9cbnZhciBUeXBlcyA9IHt9O1xuXG5UeXBlcy5OdW1iZXIgPSBjcmVhdGVUeXBlKHtcbiAgYmFzZVR5cGU6IE51bWJlcixcbiAgaXNTaW1wbGVUeXBlOiB0cnVlLFxuICBjcmVhdGU6IGRlZmF1bHRWYWx1ZSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09IFwidW5kZWZpbmVkXCIgPyBkZWZhdWx0VmFsdWUgOiAwO1xuICB9LFxuICByZXNldDogKHNyYywga2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc3JjW2tleV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNyY1trZXldID0gMDtcbiAgICB9XG4gIH0sXG4gIGNsZWFyOiAoc3JjLCBrZXkpID0+IHtcbiAgICBzcmNba2V5XSA9IDA7XG4gIH1cbn0pO1xuXG5UeXBlcy5Cb29sZWFuID0gY3JlYXRlVHlwZSh7XG4gIGJhc2VUeXBlOiBCb29sZWFuLFxuICBpc1NpbXBsZVR5cGU6IHRydWUsXG4gIGNyZWF0ZTogZGVmYXVsdFZhbHVlID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRWYWx1ZSA6IGZhbHNlO1xuICB9LFxuICByZXNldDogKHNyYywga2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc3JjW2tleV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNyY1trZXldID0gZmFsc2U7XG4gICAgfVxuICB9LFxuICBjbGVhcjogKHNyYywga2V5KSA9PiB7XG4gICAgc3JjW2tleV0gPSBmYWxzZTtcbiAgfVxufSk7XG5cblR5cGVzLlN0cmluZyA9IGNyZWF0ZVR5cGUoe1xuICBiYXNlVHlwZTogU3RyaW5nLFxuICBpc1NpbXBsZVR5cGU6IHRydWUsXG4gIGNyZWF0ZTogZGVmYXVsdFZhbHVlID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRWYWx1ZSA6IFwiXCI7XG4gIH0sXG4gIHJlc2V0OiAoc3JjLCBrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzcmNba2V5XSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3JjW2tleV0gPSBcIlwiO1xuICAgIH1cbiAgfSxcbiAgY2xlYXI6IChzcmMsIGtleSkgPT4ge1xuICAgIHNyY1trZXldID0gXCJcIjtcbiAgfVxufSk7XG5cblR5cGVzLkFycmF5ID0gY3JlYXRlVHlwZSh7XG4gIGJhc2VUeXBlOiBBcnJheSxcbiAgY3JlYXRlOiBkZWZhdWx0VmFsdWUgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmYXVsdFZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuICB9LFxuICByZXNldDogKHNyYywga2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc3JjW2tleV0gPSBkZWZhdWx0VmFsdWUuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3JjW2tleV0ubGVuZ3RoID0gMDtcbiAgICB9XG4gIH0sXG4gIGNsZWFyOiAoc3JjLCBrZXkpID0+IHtcbiAgICBzcmNba2V5XS5sZW5ndGggPSAwO1xuICB9LFxuICBjb3B5OiAoc3JjLCBkc3QsIGtleSkgPT4ge1xuICAgIHNyY1trZXldID0gZHN0W2tleV0uc2xpY2UoKTtcbiAgfVxufSk7XG5cbmV4cG9ydCB7IFR5cGVzIH07XG4iLCJpbXBvcnQgeyBUeXBlcyB9IGZyb20gXCIuL1N0YW5kYXJkVHlwZXNcIjtcblxudmFyIHN0YW5kYXJkVHlwZXMgPSB7XG4gIG51bWJlcjogVHlwZXMuTnVtYmVyLFxuICBib29sZWFuOiBUeXBlcy5Cb29sZWFuLFxuICBzdHJpbmc6IFR5cGVzLlN0cmluZ1xufTtcblxuLyoqXG4gKiBUcnkgdG8gaW5mZXIgdGhlIHR5cGUgb2YgdGhlIHZhbHVlXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFR5cGUgb2YgdGhlIGF0dHJpYnV0ZVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmVyVHlwZSh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gVHlwZXMuQXJyYXk7XG4gIH1cblxuICBpZiAoc3RhbmRhcmRUeXBlc1t0eXBlb2YgdmFsdWVdKSB7XG4gICAgcmV0dXJuIHN0YW5kYXJkVHlwZXNbdHlwZW9mIHZhbHVlXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgaW5mZXJUeXBlIH0gZnJvbSBcIi4vSW5mZXJUeXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnRDbGFzcyhzY2hlbWEsIG5hbWUpIHtcbiAgLy92YXIgQ29tcG9uZW50ID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gZnVuY3Rpb24gJHtuYW1lfSgpIHt9YCkoKTtcbiAgZm9yIChsZXQga2V5IGluIHNjaGVtYSkge1xuICAgIGxldCB0eXBlID0gc2NoZW1hW2tleV0udHlwZTtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHNjaGVtYVtrZXldLnR5cGUgPSBpbmZlclR5cGUoc2NoZW1hW2tleV0uZGVmYXVsdCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIENvbXBvbmVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAobGV0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIHZhciBhdHRyID0gc2NoZW1hW2tleV07XG4gICAgICBsZXQgdHlwZSA9IGF0dHIudHlwZTtcbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaXNUeXBlKSB7XG4gICAgICAgIHRoaXNba2V5XSA9IHR5cGUuY3JlYXRlKGF0dHIuZGVmYXVsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW2tleV0gPSBhdHRyLmRlZmF1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xuICB9XG5cbiAgQ29tcG9uZW50LnByb3RvdHlwZS5zY2hlbWEgPSBzY2hlbWE7XG5cbiAgdmFyIGtub3duVHlwZXMgPSB0cnVlO1xuICBmb3IgKGxldCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgdmFyIGF0dHIgPSBzY2hlbWFba2V5XTtcbiAgICBpZiAoIWF0dHIudHlwZSkge1xuICAgICAgYXR0ci50eXBlID0gaW5mZXJUeXBlKGF0dHIuZGVmYXVsdCk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSBhdHRyLnR5cGU7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFVua25vd24gdHlwZSBkZWZpbml0aW9uIGZvciBhdHRyaWJ1dGUgJyR7a2V5fSdgKTtcbiAgICAgIGtub3duVHlwZXMgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWtub3duVHlwZXMpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgVGhpcyBjb21wb25lbnQgY2FuJ3QgdXNlIHBvb2xpbmcgYmVjYXVzZSBzb21lIGRhdGEgdHlwZXMgYXJlIG5vdCByZWdpc3RlcmVkLiBQbGVhc2UgcHJvdmlkZSBhIHR5cGUgY3JlYXRlZCB3aXRoICdjcmVhdGVUeXBlJ2BcbiAgICApO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgbGV0IGF0dHIgPSBzY2hlbWFba2V5XTtcbiAgICAgIENvbXBvbmVudC5wcm90b3R5cGVba2V5XSA9IGF0dHIuZGVmYXVsdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24oc3JjKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgIGlmIChzcmNba2V5XSkge1xuICAgICAgICAgIGxldCB0eXBlID0gc2NoZW1hW2tleV0udHlwZTtcbiAgICAgICAgICBpZiAodHlwZS5pc1NpbXBsZVR5cGUpIHtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZS5jb3B5KSB7XG4gICAgICAgICAgICB0eXBlLmNvcHkodGhpcywgc3JjLCBrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBAdG9kbyBEZXRlY3QgdGhhdCBpdCdzIG5vdCBwb3NzaWJsZSB0byBjb3B5IGFsbCB0aGUgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gYW5kIGp1c3QgYXZvaWQgY3JlYXRpbmcgdGhlIGNvcHkgZnVuY3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgYFVua25vd24gY29weSBmdW5jdGlvbiBmb3IgYXR0cmlidXRlICcke2tleX0nIGRhdGEgdHlwZWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIENvbXBvbmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgICAgbGV0IGF0dHIgPSBzY2hlbWFba2V5XTtcbiAgICAgICAgbGV0IHR5cGUgPSBhdHRyLnR5cGU7XG4gICAgICAgIGlmICh0eXBlLnJlc2V0KSB0eXBlLnJlc2V0KHRoaXMsIGtleSwgYXR0ci5kZWZhdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yIChsZXQga2V5IGluIHNjaGVtYSkge1xuICAgICAgICBsZXQgdHlwZSA9IHNjaGVtYVtrZXldLnR5cGU7XG4gICAgICAgIGlmICh0eXBlLmNsZWFyKSB0eXBlLmNsZWFyKHRoaXMsIGtleSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAobGV0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIGxldCBhdHRyID0gc2NoZW1hW2tleV07XG4gICAgICBsZXQgdHlwZSA9IGF0dHIudHlwZTtcbiAgICAgIENvbXBvbmVudC5wcm90b3R5cGVba2V5XSA9IGF0dHIuZGVmYXVsdDtcblxuICAgICAgaWYgKHR5cGUucmVzZXQpIHtcbiAgICAgICAgdHlwZS5yZXNldChDb21wb25lbnQucHJvdG90eXBlLCBrZXksIGF0dHIuZGVmYXVsdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn1cbiIsIi8qIGdsb2JhbCBQZWVyICovXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKGxlbmd0aCkge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgdmFyIGNoYXJhY3RlcnMgPVxuICAgIFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcbiAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC50b1VwcGVyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBsb2cobXNnKSB7XG4gIC8vY29uc29sZS5sb2cobXNnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVJlbW90ZURldnRvb2xzKHJlbW90ZUlkKSB7XG4gIHdpbmRvdy5nZW5lcmF0ZU5ld0NvZGUgPSAoKSA9PiB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIHJlbW90ZUlkID0gZ2VuZXJhdGVJZCg2KTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJlY3N5UmVtb3RlSWRcIiwgcmVtb3RlSWQpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoZmFsc2UpO1xuICB9O1xuXG4gIHJlbW90ZUlkID0gcmVtb3RlSWQgfHwgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZWNzeVJlbW90ZUlkXCIpO1xuICBpZiAoIXJlbW90ZUlkKSB7XG4gICAgcmVtb3RlSWQgPSBnZW5lcmF0ZUlkKDYpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImVjc3lSZW1vdGVJZFwiLCByZW1vdGVJZCk7XG4gIH1cblxuICBsZXQgaW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGluZm9EaXYuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIG9wYWNpdHk6IDAuOTtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzM2A7XG5cbiAgaW5mb0Rpdi5pbm5lckhUTUwgPSBgT3BlbiBFQ1NZIGRldnRvb2xzIHRvIGNvbm5lY3QgdG8gdGhpcyBwYWdlIHVzaW5nIHRoZSBjb2RlOiZuYnNwOzxiPiR7cmVtb3RlSWR9PC9iPiZuYnNwOzxidXR0b24gb25DbGljaz1cImdlbmVyYXRlTmV3Q29kZSgpXCI+R2VuZXJhdGUgbmV3IGNvZGU8L2J1dHRvbj5gO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm9EaXYpO1xuICB3aW5kb3cuX19FQ1NZX1JFTU9URV9ERVZUT09MU19JTkpFQ1RFRCA9IHRydWU7XG4gIHdpbmRvdy5fX0VDU1lfUkVNT1RFX0RFVlRPT0xTID0ge307XG5cbiAgLy8vLy8vLy8vLy8vXG4gIGxldCBWZXJzaW9uID0gXCJcIjtcbiAgbGV0IHdvcmxkc0JlZm9yZUxvYWRpbmcgPSBbXTtcbiAgbGV0IG9uV29ybGRDcmVhdGVkID0gZSA9PiB7XG4gICAgdmFyIHdvcmxkID0gZS5kZXRhaWwud29ybGQ7XG4gICAgVmVyc2lvbiA9IGUuZGV0YWlsLnZlcnNpb247XG4gICAgbG9nKFwiV29ybGQgY3JlYXRlZCBiZWZvcmVcIiwgd29ybGQpO1xuICAgIHdvcmxkc0JlZm9yZUxvYWRpbmcucHVzaCh3b3JsZCk7XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlY3N5LXdvcmxkLWNyZWF0ZWRcIiwgb25Xb3JsZENyZWF0ZWQpO1xuXG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAvLyBAdG9kbyBVc2UgbGluayB0byB0aGUgZWNzeS1kZXZ0b29scyByZXBvP1xuICBzY3JpcHQuc3JjID0gXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3BlZXJqc0AwLjMuMjAvZGlzdC9wZWVyLm1pbi5qc1wiO1xuICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgIHZhciBwZWVyID0gbmV3IFBlZXIocmVtb3RlSWQpO1xuICAgIHBlZXIub24oXCJvcGVuXCIsIGlkID0+IHtcbiAgICAgIGxvZyhcIk15IHBlZXIgSUQgaXM6IFwiICsgaWQpO1xuICAgICAgcGVlci5vbihcImNvbm5lY3Rpb25cIiwgY29ubiA9PiB7XG4gICAgICAgIGxvZyhcIk9uIGNvbm5lY3Rpb25cIik7XG4gICAgICAgIHdpbmRvdy5fX0VDU1lfUkVNT1RFX0RFVlRPT0xTLmNvbm5lY3Rpb24gPSBjb25uO1xuXG4gICAgICAgIGNvbm4ub24oXCJvcGVuXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxvZyhcIk9uIG9wZW5cIik7XG4gICAgICAgICAgaW5mb0Rpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxuICAgICAgICAgIC8vIFJlY2VpdmUgbWVzc2FnZXNcbiAgICAgICAgICBjb25uLm9uKFwiZGF0YVwiLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBsb2coXCJPbiBkYXRhXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gXCJpbml0XCIpIHtcbiAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICAgIHNjcmlwdC50ZXh0Q29udGVudCA9IGRhdGEuc2NyaXB0O1xuICAgICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZWNzeS13b3JsZC1jcmVhdGVkXCIsIG9uV29ybGRDcmVhdGVkKTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgd29ybGRzQmVmb3JlTG9hZGluZy5mb3JFYWNoKHdvcmxkID0+IHtcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImVjc3ktd29ybGQtY3JlYXRlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogeyB3b3JsZDogd29ybGQsIHZlcnNpb246IFZlcnNpb24gfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgICAgICAgICAgICB2YXIgd3JhcEZ1bmN0aW9ucyA9IFtcImVycm9yXCIsIFwid2FybmluZ1wiLCBcImxvZ1wiXTtcbiAgICAgICAgICAgICAgd3JhcEZ1bmN0aW9ucy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlW2tleV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgdmFyIGZuID0gY29uc29sZVtrZXldLmJpbmQoY29uc29sZSk7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlW2tleV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25uLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJjb25zb2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IEpTT04uc3RyaW5naWZ5KGFyZ3MpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29ubi5zZW5kKHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhY2s6IGVycm9yLmVycm9yLnN0YWNrXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBcImV4ZWN1dGVTY3JpcHRcIikge1xuICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBldmFsKGRhdGEuc2NyaXB0KTtcbiAgICAgICAgICAgICAgaWYgKGRhdGEucmV0dXJuRXZhbCkge1xuICAgICAgICAgICAgICAgIGNvbm4uc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiZXZhbFJldHVyblwiLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufVxuXG5jb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXG4vLyBAdG9kbyBQcm92aWRlIGEgd2F5IHRvIGRpc2FibGUgaXQgaWYgbmVlZGVkXG5pZiAodXJsUGFyYW1zLmhhcyhcImVuYWJsZVJlbW90ZURldnRvb2xzXCIpKSB7XG4gIGVuYWJsZVJlbW90ZURldnRvb2xzKCk7XG59XG4iXSwibmFtZXMiOlsiU3lzdGVtTWFuYWdlciIsIltvYmplY3QgT2JqZWN0XSIsIndvcmxkIiwidGhpcyIsIl9zeXN0ZW1zIiwiX2V4ZWN1dGVTeXN0ZW1zIiwibGFzdEV4ZWN1dGVkU3lzdGVtIiwiU3lzdGVtIiwiYXR0cmlidXRlcyIsInVuZGVmaW5lZCIsImZpbmQiLCJzIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiY29uc29sZSIsIndhcm4iLCJzeXN0ZW0iLCJpbml0Iiwib3JkZXIiLCJsZW5ndGgiLCJwdXNoIiwiZXhlY3V0ZSIsInNvcnRTeXN0ZW1zIiwic29ydCIsImEiLCJiIiwicHJpb3JpdHkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkZWx0YSIsInRpbWUiLCJpbml0aWFsaXplZCIsImNhbkV4ZWN1dGUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImV4ZWN1dGVUaW1lIiwiY2xlYXJFdmVudHMiLCJmb3JFYWNoIiwic3RvcCIsImZvcmNlUGxheSIsImVuYWJsZWQiLCJleGVjdXRlU3lzdGVtIiwic3RhdHMiLCJudW1TeXN0ZW1zIiwic3lzdGVtcyIsImkiLCJzeXN0ZW1TdGF0cyIsInF1ZXJpZXMiLCJjdHgiLCJFdmVudERpc3BhdGNoZXIiLCJfbGlzdGVuZXJzIiwiZmlyZWQiLCJoYW5kbGVkIiwiZXZlbnROYW1lIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lckFycmF5IiwiZW50aXR5IiwiY29tcG9uZW50IiwiYXJyYXkiLCJzbGljZSIsImNhbGwiLCJnZXROYW1lIiwiQ29tcG9uZW50IiwiY29tcG9uZW50UHJvcGVydHlOYW1lIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJxdWVyeUtleSIsIkNvbXBvbmVudHMiLCJuYW1lcyIsIm4iLCJUIiwib3BlcmF0b3IiLCJqb2luIiwiUXVlcnkiLCJtYW5hZ2VyIiwiTm90Q29tcG9uZW50cyIsIkVycm9yIiwiZW50aXRpZXMiLCJldmVudERpc3BhdGNoZXIiLCJyZWFjdGl2ZSIsImtleSIsIl9lbnRpdGllcyIsIm1hdGNoIiwiZGlzcGF0Y2hFdmVudCIsInByb3RvdHlwZSIsIkVOVElUWV9BRERFRCIsIkVOVElUWV9SRU1PVkVEIiwiaGFzQWxsQ29tcG9uZW50cyIsImhhc0FueUNvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiaW5jbHVkZWQiLCJtYXAiLCJDIiwibm90IiwibnVtRW50aXRpZXMiLCJudW1Db21wb25lbnRzIiwiQ09NUE9ORU5UX0NIQU5HRUQiLCJuZXh0SWQiLCJFbnRpdHkiLCJfd29ybGQiLCJpZCIsIl9Db21wb25lbnRUeXBlcyIsIl9jb21wb25lbnRzIiwiX2NvbXBvbmVudHNUb1JlbW92ZSIsIl9Db21wb25lbnRUeXBlc1RvUmVtb3ZlIiwiYWxpdmUiLCJpbmNsdWRlUmVtb3ZlZCIsInF1ZXJ5IiwidmFsdWVzIiwiZW50aXR5QWRkQ29tcG9uZW50IiwiZm9yY2VSZW1vdmUiLCJlbnRpdHlSZW1vdmVDb21wb25lbnQiLCJoYXNSZW1vdmVkQ29tcG9uZW50IiwiaGFzQ29tcG9uZW50IiwiZW50aXR5UmVtb3ZlQWxsQ29tcG9uZW50cyIsInJlbW92ZUVudGl0eSIsIk9iamVjdFBvb2wiLCJpbml0aWFsU2l6ZSIsImZyZWVMaXN0IiwiY291bnQiLCJpc09iamVjdFBvb2wiLCJleHRyYUFyZ3MiLCJhcmd1bWVudHMiLCJBcnJheSIsInNoaWZ0IiwiY3JlYXRlRWxlbWVudCIsImV4cGFuZCIsIk1hdGgiLCJyb3VuZCIsInBvcCIsIml0ZW0iLCJyZXNldCIsIlF1ZXJ5TWFuYWdlciIsIl9xdWVyaWVzIiwicXVlcnlOYW1lIiwiYWRkRW50aXR5IiwiU3lzdGVtU3RhdGVDb21wb25lbnQiLCJpc1N5c3RlbVN0YXRlQ29tcG9uZW50IiwiRW50aXR5TWFuYWdlciIsImNvbXBvbmVudHNNYW5hZ2VyIiwiX3F1ZXJ5TWFuYWdlciIsIl9lbnRpdHlQb29sIiwiZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlIiwiZW50aXRpZXNUb1JlbW92ZSIsImRlZmVycmVkUmVtb3ZhbEVuYWJsZWQiLCJudW1TdGF0ZUNvbXBvbmVudHMiLCJhcXVpcmUiLCJFTlRJVFlfQ1JFQVRFRCIsIl9fcHJvdG9fXyIsImdldENvbXBvbmVudHNQb29sIiwiY29weSIsIm9uRW50aXR5Q29tcG9uZW50QWRkZWQiLCJjb21wb25lbnRBZGRlZFRvRW50aXR5IiwiQ09NUE9ORU5UX0FEREVEIiwiaW1tZWRpYXRlbHkiLCJDT01QT05FTlRfUkVNT1ZFIiwiX2VudGl0eVJlbW92ZUNvbXBvbmVudFN5bmMiLCJjb21wb25lbnROYW1lIiwib25FbnRpdHlDb21wb25lbnRSZW1vdmVkIiwicmVtb3ZlIiwicHJvcE5hbWUiLCJfY29tcG9uZW50UG9vbCIsInJlbGVhc2UiLCJjb21wb25lbnRSZW1vdmVkRnJvbUVudGl0eSIsImoiLCJvbkVudGl0eVJlbW92ZWQiLCJfcmVsZWFzZUVudGl0eSIsImdldFF1ZXJ5IiwibnVtUXVlcmllcyIsIk9iamVjdCIsImtleXMiLCJudW1Db21wb25lbnRQb29sIiwiY29tcG9uZW50UG9vbCIsImNuYW1lIiwicG9vbCIsInVzZWQiLCJ0b3RhbFVzZWQiLCJzaXplIiwiRHVtbXlPYmplY3RQb29sIiwiaXNEdW1teU9iamVjdFBvb2wiLCJJbmZpbml0eSIsIkNvbXBvbmVudE1hbmFnZXIiLCJyZWdpc3RlckNvbXBvbmVudCIsIlZlcnNpb24iLCJwanNvbiIsInZlcnNpb24iLCJXb3JsZCIsImVudGl0eU1hbmFnZXIiLCJzeXN0ZW1NYW5hZ2VyIiwiZXZlbnRRdWV1ZXMiLCJDdXN0b21FdmVudCIsImV2ZW50IiwiZGV0YWlsIiwid2luZG93IiwibGFzdFRpbWUiLCJyZWdpc3RlclN5c3RlbSIsIlN5c3RlbUNsYXNzIiwiZ2V0U3lzdGVtIiwiZ2V0U3lzdGVtcyIsInByb2Nlc3NEZWZlcnJlZFJlbW92YWwiLCJjcmVhdGVFbnRpdHkiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiX21hbmRhdG9yeVF1ZXJpZXMiLCJxdWVyeUNvbmZpZyIsInF1ZXJ5Q29tcG9uZW50cyIsIm1hbmRhdG9yeSIsInJlc3VsdHMiLCJldmVudE1hcHBpbmciLCJhZGRlZCIsInJlbW92ZWQiLCJjaGFuZ2VkIiwibGlzdGVuIiwiZXZlbnRMaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzQXJyYXkiLCJjaGFuZ2VkQ29tcG9uZW50IiwianNvbiIsInF1ZXJ5RGVmaW5pdGlvbiIsImpzb25RdWVyeSIsIm1ldGhvZCIsIk5vdCIsImlzQ29tcG9uZW50IiwiVGFnQ29tcG9uZW50IiwiY3JlYXRlVHlwZSIsInR5cGVEZWZpbml0aW9uIiwidW5kZWZpbmVkRnVuY3Rpb25zIiwiZmlsdGVyIiwiZiIsImlzVHlwZSIsImlzVGFnQ29tcG9uZW50IiwiVHlwZXMiLCJOdW1iZXIiLCJiYXNlVHlwZSIsImlzU2ltcGxlVHlwZSIsImNyZWF0ZSIsImRlZmF1bHRWYWx1ZSIsInNyYyIsImNsZWFyIiwiQm9vbGVhbiIsIlN0cmluZyIsImRzdCIsInN0YW5kYXJkVHlwZXMiLCJudW1iZXIiLCJib29sZWFuIiwic3RyaW5nIiwiaW5mZXJUeXBlIiwidmFsdWUiLCJjcmVhdGVDb21wb25lbnRDbGFzcyIsInNjaGVtYSIsInR5cGUiLCJkZWZhdWx0IiwiYXR0ciIsImRlZmluZVByb3BlcnR5Iiwia25vd25UeXBlcyIsImdlbmVyYXRlSWQiLCJyZXN1bHQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsImZsb29yIiwicmFuZG9tIiwidG9VcHBlckNhc2UiLCJlbmFibGVSZW1vdGVEZXZ0b29scyIsInJlbW90ZUlkIiwiZ2VuZXJhdGVOZXdDb2RlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImxvY2F0aW9uIiwicmVsb2FkIiwiZ2V0SXRlbSIsImluZm9EaXYiLCJkb2N1bWVudCIsInN0eWxlIiwiY3NzVGV4dCIsImlubmVySFRNTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIl9fRUNTWV9SRU1PVEVfREVWVE9PTFNfSU5KRUNURUQiLCJfX0VDU1lfUkVNT1RFX0RFVlRPT0xTIiwid29ybGRzQmVmb3JlTG9hZGluZyIsIm9uV29ybGRDcmVhdGVkIiwiZSIsInNjcmlwdCIsIm9ubG9hZCIsInBlZXIiLCJQZWVyIiwib24iLCJjb25uIiwiY29ubmVjdGlvbiIsInZpc2liaWxpdHkiLCJkYXRhIiwidGV4dENvbnRlbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCIsImhlYWQiLCJkb2N1bWVudEVsZW1lbnQiLCJ3cmFwRnVuY3Rpb25zIiwiZm4iLCJiaW5kIiwiYXJncyIsInNlbmQiLCJhcHBseSIsImVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiZXZhbCIsInJldHVybkV2YWwiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJoYXMiXSwibWFwcGluZ3MiOiJvUkFBTyxNQUFNQSxjQUNYQyxZQUFZQyxHQUNWQyxLQUFLQyxTQUFXLEdBQ2hCRCxLQUFLRSxnQkFBa0IsR0FDdkJGLEtBQUtELE1BQVFBLEVBQ2JDLEtBQUtHLG1CQUFxQixLQUc1QkwsZUFBZU0sRUFBUUMsR0FDckIsUUFDa0VDLElBQWhFTixLQUFLQyxTQUFTTSxLQUFLQyxHQUFLQSxFQUFFQyxZQUFZQyxPQUFTTixFQUFPTSxNQUd0RCxPQURBQyxRQUFRQyxnQkFBZ0JSLEVBQU9NLDZCQUN4QlYsS0FHVCxJQUFJYSxFQUFTLElBQUlULEVBQU9KLEtBQUtELE1BQU9NLEdBTXBDLE9BTElRLEVBQU9DLE1BQU1ELEVBQU9DLE9BQ3hCRCxFQUFPRSxNQUFRZixLQUFLQyxTQUFTZSxPQUM3QmhCLEtBQUtDLFNBQVNnQixLQUFLSixHQUNmQSxFQUFPSyxTQUFTbEIsS0FBS0UsZ0JBQWdCZSxLQUFLSixHQUM5Q2IsS0FBS21CLGNBQ0VuQixLQUdURixjQUNFRSxLQUFLRSxnQkFBZ0JrQixLQUFLLENBQUNDLEVBQUdDLElBQ3JCRCxFQUFFRSxTQUFXRCxFQUFFQyxVQUFZRixFQUFFTixNQUFRTyxFQUFFUCxPQUlsRGpCLFVBQVVNLEdBQ1IsT0FBT0osS0FBS0MsU0FBU00sS0FBS0MsR0FBS0EsYUFBYUosR0FHOUNOLGFB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
